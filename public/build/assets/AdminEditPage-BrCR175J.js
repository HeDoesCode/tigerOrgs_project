import{r as o,$ as Ft,a as it,b as _t,j as t,q as Ut,Y as Bt,R as Kt,W as zt}from"./app-H8joi_T6.js";import{A as Wt}from"./AdminLayout-VJjyTaVK.js";import{M as qt}from"./MainAdminFrame-BtFCpde7.js";import{I as Ht}from"./IconInvite-Mf_t1FGd.js";import{H as Vt,I as Yt,a as Xt,b as Gt}from"./Home-DTWNFQXd.js";import{I as Zt}from"./IconEdit-ClgENcNe.js";import{E as q}from"./index-DAjjIL92.js";import{I as Jt}from"./IconMailFilled-B6Bdc_3r.js";import{c as Qt,a as de,I as en,b as tn}from"./IconMenu3-BynPcPE1.js";import{D as nn,a as rn,b as on,c as an,d as sn,e as ln,f as oe}from"./dropdown-menu-FnFa46QM.js";import{c as cn,_ as dn,u as un,a as le,f as fn,z as mn,s as hn,b as pn,R as gn,e as vn,h as bn,D as Ue,d as dt,g as Be,i as Ke,j as ze,k as We,l as xn,m as ut}from"./index-Dqx52uk5.js";import{B as wn}from"./button-DuQVuNIM.js";import"./OrganizationLayout-uXR9bwfy.js";import"./UserLayout-CGPtaHEp.js";import"./IconProfile-NyLX-oif.js";import"./index-hBakNDBN.js";/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Qt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var Ye=1,jn=.9,$n=.8,En=.17,Ee=.1,Ce=.999,Cn=.9999,Nn=.99,kn=/[\\\/_+.#"@\[\(\{&]/,Sn=/[\\\/_+.#"@\[\(\{&]/g,Pn=/[\s-]/,ft=/[\s-]/g;function Oe(e,n,r,a,s,l,i){if(l===n.length)return s===e.length?Ye:Nn;var c=`${s},${l}`;if(i[c]!==void 0)return i[c];for(var u=a.charAt(l),d=r.indexOf(u,s),p=0,x,O,S,T;d>=0;)x=Oe(e,n,r,a,d+1,l+1,i),x>p&&(d===s?x*=Ye:kn.test(e.charAt(d-1))?(x*=$n,S=e.slice(s,d-1).match(Sn),S&&s>0&&(x*=Math.pow(Ce,S.length))):Pn.test(e.charAt(d-1))?(x*=jn,T=e.slice(s,d-1).match(ft),T&&s>0&&(x*=Math.pow(Ce,T.length))):(x*=En,s>0&&(x*=Math.pow(Ce,d-s))),e.charAt(d)!==n.charAt(l)&&(x*=Cn)),(x<Ee&&r.charAt(d-1)===a.charAt(l+1)||a.charAt(l+1)===a.charAt(l)&&r.charAt(d-1)!==a.charAt(l))&&(O=Oe(e,n,r,a,d+1,l+2,i),O*Ee>x&&(x=O*Ee)),x>p&&(p=x),d=r.indexOf(u,d+1);return i[c]=p,p}function Xe(e){return e.toLowerCase().replace(ft," ")}function Dn(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Oe(e,n,Xe(e),Xe(n),0,0,{})}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},H.apply(null,arguments)}function ie(e,n,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return n==null?void 0:n(s)}}function Rn(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function mt(...e){return n=>e.forEach(r=>Rn(r,n))}function he(...e){return o.useCallback(mt(...e),e)}function In(e,n=[]){let r=[];function a(l,i){const c=o.createContext(i),u=r.length;r=[...r,i];function d(x){const{scope:O,children:S,...T}=x,y=(O==null?void 0:O[e][u])||c,R=o.useMemo(()=>T,Object.values(T));return o.createElement(y.Provider,{value:R},S)}function p(x,O){const S=(O==null?void 0:O[e][u])||c,T=o.useContext(S);if(T)return T;if(i!==void 0)return i;throw new Error(`\`${x}\` must be used within \`${l}\``)}return d.displayName=l+"Provider",[d,p]}const s=()=>{const l=r.map(i=>o.createContext(i));return function(c){const u=(c==null?void 0:c[e])||l;return o.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return s.scopeName=e,[a,On(s,...n)]}function On(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const i=a.reduce((c,{useScope:u,scopeName:d})=>{const x=u(l)[`__scope${d}`];return{...c,...x}},{});return o.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return r.scopeName=n.scopeName,r}const Ae=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},An=Ft.useId||(()=>{});let Ln=0;function Ne(e){const[n,r]=o.useState(An());return Ae(()=>{e||r(a=>a??String(Ln++))},[e]),e||(n?`radix-${n}`:"")}function ee(e){const n=o.useRef(e);return o.useEffect(()=>{n.current=e}),o.useMemo(()=>(...r)=>{var a;return(a=n.current)===null||a===void 0?void 0:a.call(n,...r)},[])}function Mn({prop:e,defaultProp:n,onChange:r=()=>{}}){const[a,s]=Tn({defaultProp:n,onChange:r}),l=e!==void 0,i=l?e:a,c=ee(r),u=o.useCallback(d=>{if(l){const x=typeof d=="function"?d(e):d;x!==e&&c(x)}else s(d)},[l,e,s,c]);return[i,u]}function Tn({defaultProp:e,onChange:n}){const r=o.useState(e),[a]=r,s=o.useRef(a),l=ee(n);return o.useEffect(()=>{s.current!==a&&(l(a),s.current=a)},[a,s,l]),r}const qe=o.forwardRef((e,n)=>{const{children:r,...a}=e,s=o.Children.toArray(r),l=s.find(_n);if(l){const i=l.props.children,c=s.map(u=>u===l?o.Children.count(i)>1?o.Children.only(null):o.isValidElement(i)?i.props.children:null:u);return o.createElement(Le,H({},a,{ref:n}),o.isValidElement(i)?o.cloneElement(i,void 0,c):null)}return o.createElement(Le,H({},a,{ref:n}),r)});qe.displayName="Slot";const Le=o.forwardRef((e,n)=>{const{children:r,...a}=e;return o.isValidElement(r)?o.cloneElement(r,{...Un(a,r.props),ref:n?mt(n,r.ref):r.ref}):o.Children.count(r)>1?o.Children.only(null):null});Le.displayName="SlotClone";const Fn=({children:e})=>o.createElement(o.Fragment,null,e);function _n(e){return o.isValidElement(e)&&e.type===Fn}function Un(e,n){const r={...n};for(const a in n){const s=e[a],l=n[a];/^on[A-Z]/.test(a)?s&&l?r[a]=(...c)=>{l(...c),s(...c)}:s&&(r[a]=s):a==="style"?r[a]={...s,...l}:a==="className"&&(r[a]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}const Bn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],G=Bn.reduce((e,n)=>{const r=o.forwardRef((a,s)=>{const{asChild:l,...i}=a,c=l?qe:n;return o.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),o.createElement(c,H({},i,{ref:s}))});return r.displayName=`Primitive.${n}`,{...e,[n]:r}},{});function Kn(e,n){e&&it.flushSync(()=>e.dispatchEvent(n))}function zn(e,n=globalThis==null?void 0:globalThis.document){const r=ee(e);o.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return n.addEventListener("keydown",a),()=>n.removeEventListener("keydown",a)},[r,n])}const Me="dismissableLayer.update",Wn="dismissableLayer.pointerDownOutside",qn="dismissableLayer.focusOutside";let Ge;const Hn=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vn=o.forwardRef((e,n)=>{var r;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:i,onInteractOutside:c,onDismiss:u,...d}=e,p=o.useContext(Hn),[x,O]=o.useState(null),S=(r=x==null?void 0:x.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,T]=o.useState({}),y=he(n,j=>O(j)),R=Array.from(p.layers),[L]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),B=R.indexOf(L),$=x?R.indexOf(x):-1,P=p.layersWithOutsidePointerEventsDisabled.size>0,v=$>=B,g=Yn(j=>{const M=j.target,D=[...p.branches].some(k=>k.contains(M));!v||D||(l==null||l(j),c==null||c(j),j.defaultPrevented||u==null||u())},S),w=Xn(j=>{const M=j.target;[...p.branches].some(k=>k.contains(M))||(i==null||i(j),c==null||c(j),j.defaultPrevented||u==null||u())},S);return zn(j=>{$===p.layers.size-1&&(s==null||s(j),!j.defaultPrevented&&u&&(j.preventDefault(),u()))},S),o.useEffect(()=>{if(x)return a&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Ge=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(x)),p.layers.add(x),Ze(),()=>{a&&p.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Ge)}},[x,S,a,p]),o.useEffect(()=>()=>{x&&(p.layers.delete(x),p.layersWithOutsidePointerEventsDisabled.delete(x),Ze())},[x,p]),o.useEffect(()=>{const j=()=>T({});return document.addEventListener(Me,j),()=>document.removeEventListener(Me,j)},[]),o.createElement(G.div,H({},d,{ref:y,style:{pointerEvents:P?v?"auto":"none":void 0,...e.style},onFocusCapture:ie(e.onFocusCapture,w.onFocusCapture),onBlurCapture:ie(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:ie(e.onPointerDownCapture,g.onPointerDownCapture)}))});function Yn(e,n=globalThis==null?void 0:globalThis.document){const r=ee(e),a=o.useRef(!1),s=o.useRef(()=>{});return o.useEffect(()=>{const l=c=>{if(c.target&&!a.current){let d=function(){ht(Wn,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(n.removeEventListener("click",s.current),s.current=d,n.addEventListener("click",s.current,{once:!0})):d()}else n.removeEventListener("click",s.current);a.current=!1},i=window.setTimeout(()=>{n.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(i),n.removeEventListener("pointerdown",l),n.removeEventListener("click",s.current)}},[n,r]),{onPointerDownCapture:()=>a.current=!0}}function Xn(e,n=globalThis==null?void 0:globalThis.document){const r=ee(e),a=o.useRef(!1);return o.useEffect(()=>{const s=l=>{l.target&&!a.current&&ht(qn,r,{originalEvent:l},{discrete:!1})};return n.addEventListener("focusin",s),()=>n.removeEventListener("focusin",s)},[n,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Ze(){const e=new CustomEvent(Me);document.dispatchEvent(e)}function ht(e,n,r,{discrete:a}){const s=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&s.addEventListener(e,n,{once:!0}),a?Kn(s,l):s.dispatchEvent(l)}const ke="focusScope.autoFocusOnMount",Se="focusScope.autoFocusOnUnmount",Je={bubbles:!1,cancelable:!0},Gn=o.forwardRef((e,n)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...i}=e,[c,u]=o.useState(null),d=ee(s),p=ee(l),x=o.useRef(null),O=he(n,y=>u(y)),S=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(a){let y=function($){if(S.paused||!c)return;const P=$.target;c.contains(P)?x.current=P:Z(x.current,{select:!0})},R=function($){if(S.paused||!c)return;const P=$.relatedTarget;P!==null&&(c.contains(P)||Z(x.current,{select:!0}))},L=function($){if(document.activeElement===document.body)for(const v of $)v.removedNodes.length>0&&Z(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",R);const B=new MutationObserver(L);return c&&B.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",R),B.disconnect()}}},[a,c,S.paused]),o.useEffect(()=>{if(c){et.add(S);const y=document.activeElement;if(!c.contains(y)){const L=new CustomEvent(ke,Je);c.addEventListener(ke,d),c.dispatchEvent(L),L.defaultPrevented||(Zn(nr(pt(c)),{select:!0}),document.activeElement===y&&Z(c))}return()=>{c.removeEventListener(ke,d),setTimeout(()=>{const L=new CustomEvent(Se,Je);c.addEventListener(Se,p),c.dispatchEvent(L),L.defaultPrevented||Z(y??document.body,{select:!0}),c.removeEventListener(Se,p),et.remove(S)},0)}}},[c,d,p,S]);const T=o.useCallback(y=>{if(!r&&!a||S.paused)return;const R=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,L=document.activeElement;if(R&&L){const B=y.currentTarget,[$,P]=Jn(B);$&&P?!y.shiftKey&&L===P?(y.preventDefault(),r&&Z($,{select:!0})):y.shiftKey&&L===$&&(y.preventDefault(),r&&Z(P,{select:!0})):L===B&&y.preventDefault()}},[r,a,S.paused]);return o.createElement(G.div,H({tabIndex:-1},i,{ref:O,onKeyDown:T}))});function Zn(e,{select:n=!1}={}){const r=document.activeElement;for(const a of e)if(Z(a,{select:n}),document.activeElement!==r)return}function Jn(e){const n=pt(e),r=Qe(n,e),a=Qe(n.reverse(),e);return[r,a]}function pt(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function Qe(e,n){for(const r of e)if(!Qn(r,{upTo:n}))return r}function Qn(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function er(e){return e instanceof HTMLInputElement&&"select"in e}function Z(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&er(e)&&n&&e.select()}}const et=tr();function tr(){let e=[];return{add(n){const r=e[0];n!==r&&(r==null||r.pause()),e=tt(e,n),e.unshift(n)},remove(n){var r;e=tt(e,n),(r=e[0])===null||r===void 0||r.resume()}}}function tt(e,n){const r=[...e],a=r.indexOf(n);return a!==-1&&r.splice(a,1),r}function nr(e){return e.filter(n=>n.tagName!=="A")}const rr=o.forwardRef((e,n)=>{var r;const{container:a=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=e;return a?_t.createPortal(o.createElement(G.div,H({},s,{ref:n})),a):null});function or(e,n){return o.useReducer((r,a)=>{const s=n[r][a];return s??r},e)}const ye=e=>{const{present:n,children:r}=e,a=ar(n),s=typeof r=="function"?r({present:a.isPresent}):o.Children.only(r),l=he(a.ref,s.ref);return typeof r=="function"||a.isPresent?o.cloneElement(s,{ref:l}):null};ye.displayName="Presence";function ar(e){const[n,r]=o.useState(),a=o.useRef({}),s=o.useRef(e),l=o.useRef("none"),i=e?"mounted":"unmounted",[c,u]=or(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const d=ve(a.current);l.current=c==="mounted"?d:"none"},[c]),Ae(()=>{const d=a.current,p=s.current;if(p!==e){const O=l.current,S=ve(d);e?u("MOUNT"):S==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(p&&O!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Ae(()=>{if(n){const d=x=>{const S=ve(a.current).includes(x.animationName);x.target===n&&S&&it.flushSync(()=>u("ANIMATION_END"))},p=x=>{x.target===n&&(l.current=ve(a.current))};return n.addEventListener("animationstart",p),n.addEventListener("animationcancel",d),n.addEventListener("animationend",d),()=>{n.removeEventListener("animationstart",p),n.removeEventListener("animationcancel",d),n.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[n,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(d=>{d&&(a.current=getComputedStyle(d)),r(d)},[])}}function ve(e){return(e==null?void 0:e.animationName)||"none"}let Pe=0;function sr(){o.useEffect(()=>{var e,n;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:nt()),document.body.insertAdjacentElement("beforeend",(n=r[1])!==null&&n!==void 0?n:nt()),Pe++,()=>{Pe===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Pe--}},[])}function nt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var gt=cn(),De=function(){},je=o.forwardRef(function(e,n){var r=o.useRef(null),a=o.useState({onScrollCapture:De,onWheelCapture:De,onTouchMoveCapture:De}),s=a[0],l=a[1],i=e.forwardProps,c=e.children,u=e.className,d=e.removeScrollBar,p=e.enabled,x=e.shards,O=e.sideCar,S=e.noIsolation,T=e.inert,y=e.allowPinchZoom,R=e.as,L=R===void 0?"div":R,B=dn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),$=O,P=un([r,n]),v=le(le({},B),s);return o.createElement(o.Fragment,null,p&&o.createElement($,{sideCar:gt,removeScrollBar:d,shards:x,noIsolation:S,inert:T,setCallbacks:l,allowPinchZoom:!!y,lockRef:r}),i?o.cloneElement(o.Children.only(c),le(le({},v),{ref:P})):o.createElement(L,le({},v,{className:u,ref:P}),c))});je.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};je.classNames={fullWidth:fn,zeroRight:mn};var Te=!1;if(typeof window<"u")try{var be=Object.defineProperty({},"passive",{get:function(){return Te=!0,!0}});window.addEventListener("test",be,be),window.removeEventListener("test",be,be)}catch{Te=!1}var ae=Te?{passive:!1}:!1,lr=function(e){return e.tagName==="TEXTAREA"},vt=function(e,n){var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!lr(e)&&r[n]==="visible")},cr=function(e){return vt(e,"overflowY")},ir=function(e){return vt(e,"overflowX")},rt=function(e,n){var r=n;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=bt(e,r);if(a){var s=xt(e,r),l=s[1],i=s[2];if(l>i)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},dr=function(e){var n=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[n,r,a]},ur=function(e){var n=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[n,r,a]},bt=function(e,n){return e==="v"?cr(n):ir(n)},xt=function(e,n){return e==="v"?dr(n):ur(n)},fr=function(e,n){return e==="h"&&n==="rtl"?-1:1},mr=function(e,n,r,a,s){var l=fr(e,window.getComputedStyle(n).direction),i=l*a,c=r.target,u=n.contains(c),d=!1,p=i>0,x=0,O=0;do{var S=xt(e,c),T=S[0],y=S[1],R=S[2],L=y-R-l*T;(T||L)&&bt(e,c)&&(x+=L,O+=T),c=c.parentNode}while(!u&&c!==document.body||u&&(n.contains(c)||n===c));return(p&&(x===0||!s)||!p&&(O===0||!s))&&(d=!0),d},xe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ot=function(e){return[e.deltaX,e.deltaY]},at=function(e){return e&&"current"in e?e.current:e},hr=function(e,n){return e[0]===n[0]&&e[1]===n[1]},pr=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gr=0,se=[];function vr(e){var n=o.useRef([]),r=o.useRef([0,0]),a=o.useRef(),s=o.useState(gr++)[0],l=o.useState(function(){return hn()})[0],i=o.useRef(e);o.useEffect(function(){i.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=pn([e.lockRef.current],(e.shards||[]).map(at),!0).filter(Boolean);return y.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(y,R){if("touches"in y&&y.touches.length===2)return!i.current.allowPinchZoom;var L=xe(y),B=r.current,$="deltaX"in y?y.deltaX:B[0]-L[0],P="deltaY"in y?y.deltaY:B[1]-L[1],v,g=y.target,w=Math.abs($)>Math.abs(P)?"h":"v";if("touches"in y&&w==="h"&&g.type==="range")return!1;var j=rt(w,g);if(!j)return!0;if(j?v=w:(v=w==="v"?"h":"v",j=rt(w,g)),!j)return!1;if(!a.current&&"changedTouches"in y&&($||P)&&(a.current=v),!v)return!0;var M=a.current||v;return mr(M,R,y,M==="h"?$:P,!0)},[]),u=o.useCallback(function(y){var R=y;if(!(!se.length||se[se.length-1]!==l)){var L="deltaY"in R?ot(R):xe(R),B=n.current.filter(function(v){return v.name===R.type&&v.target===R.target&&hr(v.delta,L)})[0];if(B&&B.should){R.cancelable&&R.preventDefault();return}if(!B){var $=(i.current.shards||[]).map(at).filter(Boolean).filter(function(v){return v.contains(R.target)}),P=$.length>0?c(R,$[0]):!i.current.noIsolation;P&&R.cancelable&&R.preventDefault()}}},[]),d=o.useCallback(function(y,R,L,B){var $={name:y,delta:R,target:L,should:B};n.current.push($),setTimeout(function(){n.current=n.current.filter(function(P){return P!==$})},1)},[]),p=o.useCallback(function(y){r.current=xe(y),a.current=void 0},[]),x=o.useCallback(function(y){d(y.type,ot(y),y.target,c(y,e.lockRef.current))},[]),O=o.useCallback(function(y){d(y.type,xe(y),y.target,c(y,e.lockRef.current))},[]);o.useEffect(function(){return se.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:O}),document.addEventListener("wheel",u,ae),document.addEventListener("touchmove",u,ae),document.addEventListener("touchstart",p,ae),function(){se=se.filter(function(y){return y!==l}),document.removeEventListener("wheel",u,ae),document.removeEventListener("touchmove",u,ae),document.removeEventListener("touchstart",p,ae)}},[]);var S=e.removeScrollBar,T=e.inert;return o.createElement(o.Fragment,null,T?o.createElement(l,{styles:pr(s)}):null,S?o.createElement(gn,{gapMode:"margin"}):null)}const br=vn(gt,vr);var wt=o.forwardRef(function(e,n){return o.createElement(je,le({},e,{ref:n,sideCar:br}))});wt.classNames=je.classNames;const yt="Dialog",[jt,mo]=In(yt),[xr,re]=jt(yt),wr=e=>{const{__scopeDialog:n,children:r,open:a,defaultOpen:s,onOpenChange:l,modal:i=!0}=e,c=o.useRef(null),u=o.useRef(null),[d=!1,p]=Mn({prop:a,defaultProp:s,onChange:l});return o.createElement(xr,{scope:n,triggerRef:c,contentRef:u,contentId:Ne(),titleId:Ne(),descriptionId:Ne(),open:d,onOpenChange:p,onOpenToggle:o.useCallback(()=>p(x=>!x),[p]),modal:i},r)},$t="DialogPortal",[yr,Et]=jt($t,{forceMount:void 0}),jr=e=>{const{__scopeDialog:n,forceMount:r,children:a,container:s}=e,l=re($t,n);return o.createElement(yr,{scope:n,forceMount:r},o.Children.map(a,i=>o.createElement(ye,{present:r||l.open},o.createElement(rr,{asChild:!0,container:s},i))))},Fe="DialogOverlay",$r=o.forwardRef((e,n)=>{const r=Et(Fe,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,l=re(Fe,e.__scopeDialog);return l.modal?o.createElement(ye,{present:a||l.open},o.createElement(Er,H({},s,{ref:n}))):null}),Er=o.forwardRef((e,n)=>{const{__scopeDialog:r,...a}=e,s=re(Fe,r);return o.createElement(wt,{as:qe,allowPinchZoom:!0,shards:[s.contentRef]},o.createElement(G.div,H({"data-state":Nt(s.open)},a,{ref:n,style:{pointerEvents:"auto",...a.style}})))}),fe="DialogContent",Cr=o.forwardRef((e,n)=>{const r=Et(fe,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,l=re(fe,e.__scopeDialog);return o.createElement(ye,{present:a||l.open},l.modal?o.createElement(Nr,H({},s,{ref:n})):o.createElement(kr,H({},s,{ref:n})))}),Nr=o.forwardRef((e,n)=>{const r=re(fe,e.__scopeDialog),a=o.useRef(null),s=he(n,r.contentRef,a);return o.useEffect(()=>{const l=a.current;if(l)return bn(l)},[]),o.createElement(Ct,H({},e,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),(i=r.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:ie(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&l.preventDefault()}),onFocusOutside:ie(e.onFocusOutside,l=>l.preventDefault())}))}),kr=o.forwardRef((e,n)=>{const r=re(fe,e.__scopeDialog),a=o.useRef(!1),s=o.useRef(!1);return o.createElement(Ct,H({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,l),!l.defaultPrevented){var c;a.current||(c=r.triggerRef.current)===null||c===void 0||c.focus(),l.preventDefault()}a.current=!1,s.current=!1},onInteractOutside:l=>{var i,c;(i=e.onInteractOutside)===null||i===void 0||i.call(e,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=l.target;((c=r.triggerRef.current)===null||c===void 0?void 0:c.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}}))}),Ct=o.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l,...i}=e,c=re(fe,r),u=o.useRef(null),d=he(n,u);return sr(),o.createElement(o.Fragment,null,o.createElement(Gn,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:l},o.createElement(Vn,H({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Nt(c.open)},i,{ref:d,onDismiss:()=>c.onOpenChange(!1)}))),!1)});function Nt(e){return e?"open":"closed"}const Sr=wr,Pr=jr,Dr=$r,Rr=Cr;var ue='[cmdk-group=""]',Re='[cmdk-group-items=""]',Ir='[cmdk-group-heading=""]',He='[cmdk-item=""]',st=`${He}:not([aria-disabled="true"])`,_e="cmdk-item-select",Q="data-value",Or=(e,n,r)=>Dn(e,n,r),kt=o.createContext(void 0),pe=()=>o.useContext(kt),St=o.createContext(void 0),Ve=()=>o.useContext(St),Pt=o.createContext(void 0),Dt=o.forwardRef((e,n)=>{let r=ce(()=>{var m,N;return{search:"",value:(N=(m=e.value)!=null?m:e.defaultValue)!=null?N:"",filtered:{count:0,items:new Map,groups:new Set}}}),a=ce(()=>new Set),s=ce(()=>new Map),l=ce(()=>new Map),i=ce(()=>new Set),c=Rt(e),{label:u,children:d,value:p,onValueChange:x,filter:O,shouldFilter:S,loop:T,disablePointerSelection:y=!1,vimBindings:R=!0,...L}=e,B=o.useId(),$=o.useId(),P=o.useId(),v=o.useRef(null),g=Wr();te(()=>{if(p!==void 0){let m=p.trim();r.current.value=m,w.emit()}},[p]),te(()=>{g(6,Y)},[]);let w=o.useMemo(()=>({subscribe:m=>(i.current.add(m),()=>i.current.delete(m)),snapshot:()=>r.current,setState:(m,N,I)=>{var E,U,K;if(!Object.is(r.current[m],N)){if(r.current[m]=N,m==="search")z(),D(),g(1,k);else if(m==="value"&&(I||g(5,Y),((E=c.current)==null?void 0:E.value)!==void 0)){let X=N??"";(K=(U=c.current).onValueChange)==null||K.call(U,X);return}w.emit()}},emit:()=>{i.current.forEach(m=>m())}}),[]),j=o.useMemo(()=>({value:(m,N,I)=>{var E;N!==((E=l.current.get(m))==null?void 0:E.value)&&(l.current.set(m,{value:N,keywords:I}),r.current.filtered.items.set(m,M(N,I)),g(2,()=>{D(),w.emit()}))},item:(m,N)=>(a.current.add(m),N&&(s.current.has(N)?s.current.get(N).add(m):s.current.set(N,new Set([m]))),g(3,()=>{z(),D(),r.current.value||k(),w.emit()}),()=>{l.current.delete(m),a.current.delete(m),r.current.filtered.items.delete(m);let I=W();g(4,()=>{z(),(I==null?void 0:I.getAttribute("id"))===m&&k(),w.emit()})}),group:m=>(s.current.has(m)||s.current.set(m,new Set),()=>{l.current.delete(m),s.current.delete(m)}),filter:()=>c.current.shouldFilter,label:u||e["aria-label"],disablePointerSelection:y,listId:B,inputId:P,labelId:$,listInnerRef:v}),[]);function M(m,N){var I,E;let U=(E=(I=c.current)==null?void 0:I.filter)!=null?E:Or;return m?U(m,r.current.search,N):0}function D(){if(!r.current.search||c.current.shouldFilter===!1)return;let m=r.current.filtered.items,N=[];r.current.filtered.groups.forEach(E=>{let U=s.current.get(E),K=0;U.forEach(X=>{let J=m.get(X);K=Math.max(J,K)}),N.push([E,K])});let I=v.current;F().sort((E,U)=>{var K,X;let J=E.getAttribute("id"),ge=U.getAttribute("id");return((K=m.get(ge))!=null?K:0)-((X=m.get(J))!=null?X:0)}).forEach(E=>{let U=E.closest(Re);U?U.appendChild(E.parentElement===U?E:E.closest(`${Re} > *`)):I.appendChild(E.parentElement===I?E:E.closest(`${Re} > *`))}),N.sort((E,U)=>U[1]-E[1]).forEach(E=>{let U=v.current.querySelector(`${ue}[${Q}="${encodeURIComponent(E[0])}"]`);U==null||U.parentElement.appendChild(U)})}function k(){let m=F().find(I=>I.getAttribute("aria-disabled")!=="true"),N=m==null?void 0:m.getAttribute(Q);w.setState("value",N||void 0)}function z(){var m,N,I,E;if(!r.current.search||c.current.shouldFilter===!1){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let U=0;for(let K of a.current){let X=(N=(m=l.current.get(K))==null?void 0:m.value)!=null?N:"",J=(E=(I=l.current.get(K))==null?void 0:I.keywords)!=null?E:[],ge=M(X,J);r.current.filtered.items.set(K,ge),ge>0&&U++}for(let[K,X]of s.current)for(let J of X)if(r.current.filtered.items.get(J)>0){r.current.filtered.groups.add(K);break}r.current.filtered.count=U}function Y(){var m,N,I;let E=W();E&&(((m=E.parentElement)==null?void 0:m.firstChild)===E&&((I=(N=E.closest(ue))==null?void 0:N.querySelector(Ir))==null||I.scrollIntoView({block:"nearest"})),E.scrollIntoView({block:"nearest"}))}function W(){var m;return(m=v.current)==null?void 0:m.querySelector(`${He}[aria-selected="true"]`)}function F(){var m;return Array.from((m=v.current)==null?void 0:m.querySelectorAll(st))}function A(m){let N=F()[m];N&&w.setState("value",N.getAttribute(Q))}function h(m){var N;let I=W(),E=F(),U=E.findIndex(X=>X===I),K=E[U+m];(N=c.current)!=null&&N.loop&&(K=U+m<0?E[E.length-1]:U+m===E.length?E[0]:E[U+m]),K&&w.setState("value",K.getAttribute(Q))}function f(m){let N=W(),I=N==null?void 0:N.closest(ue),E;for(;I&&!E;)I=m>0?Kr(I,ue):zr(I,ue),E=I==null?void 0:I.querySelector(st);E?w.setState("value",E.getAttribute(Q)):h(m)}let b=()=>A(F().length-1),C=m=>{m.preventDefault(),m.metaKey?b():m.altKey?f(1):h(1)},_=m=>{m.preventDefault(),m.metaKey?A(0):m.altKey?f(-1):h(-1)};return o.createElement(G.div,{ref:n,tabIndex:-1,...L,"cmdk-root":"",onKeyDown:m=>{var N;if((N=L.onKeyDown)==null||N.call(L,m),!m.defaultPrevented)switch(m.key){case"n":case"j":{R&&m.ctrlKey&&C(m);break}case"ArrowDown":{C(m);break}case"p":case"k":{R&&m.ctrlKey&&_(m);break}case"ArrowUp":{_(m);break}case"Home":{m.preventDefault(),A(0);break}case"End":{m.preventDefault(),b();break}case"Enter":if(!m.nativeEvent.isComposing&&m.keyCode!==229){m.preventDefault();let I=W();if(I){let E=new Event(_e);I.dispatchEvent(E)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:j.inputId,id:j.labelId,style:Hr},u),$e(e,m=>o.createElement(St.Provider,{value:w},o.createElement(kt.Provider,{value:j},m))))}),Ar=o.forwardRef((e,n)=>{var r,a;let s=o.useId(),l=o.useRef(null),i=o.useContext(Pt),c=pe(),u=Rt(e),d=(a=(r=u.current)==null?void 0:r.forceMount)!=null?a:i==null?void 0:i.forceMount;te(()=>{if(!d)return c.item(s,i==null?void 0:i.id)},[d]);let p=It(s,l,[e.value,e.children,l],e.keywords),x=Ve(),O=ne(g=>g.value&&g.value===p.current),S=ne(g=>d||c.filter()===!1?!0:g.search?g.filtered.items.get(s)>0:!0);o.useEffect(()=>{let g=l.current;if(!(!g||e.disabled))return g.addEventListener(_e,T),()=>g.removeEventListener(_e,T)},[S,e.onSelect,e.disabled]);function T(){var g,w;y(),(w=(g=u.current).onSelect)==null||w.call(g,p.current)}function y(){x.setState("value",p.current,!0)}if(!S)return null;let{disabled:R,value:L,onSelect:B,forceMount:$,keywords:P,...v}=e;return o.createElement(G.div,{ref:me([l,n]),...v,id:s,"cmdk-item":"",role:"option","aria-disabled":!!R,"aria-selected":!!O,"data-disabled":!!R,"data-selected":!!O,onPointerMove:R||c.disablePointerSelection?void 0:y,onClick:R?void 0:T},e.children)}),Lr=o.forwardRef((e,n)=>{let{heading:r,children:a,forceMount:s,...l}=e,i=o.useId(),c=o.useRef(null),u=o.useRef(null),d=o.useId(),p=pe(),x=ne(S=>s||p.filter()===!1?!0:S.search?S.filtered.groups.has(i):!0);te(()=>p.group(i),[]),It(i,c,[e.value,e.heading,u]);let O=o.useMemo(()=>({id:i,forceMount:s}),[s]);return o.createElement(G.div,{ref:me([c,n]),...l,"cmdk-group":"",role:"presentation",hidden:x?void 0:!0},r&&o.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),$e(e,S=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},o.createElement(Pt.Provider,{value:O},S))))}),Mr=o.forwardRef((e,n)=>{let{alwaysRender:r,...a}=e,s=o.useRef(null),l=ne(i=>!i.search);return!r&&!l?null:o.createElement(G.div,{ref:me([s,n]),...a,"cmdk-separator":"",role:"separator"})}),Tr=o.forwardRef((e,n)=>{let{onValueChange:r,...a}=e,s=e.value!=null,l=Ve(),i=ne(p=>p.search),c=ne(p=>p.value),u=pe(),d=o.useMemo(()=>{var p;let x=(p=u.listInnerRef.current)==null?void 0:p.querySelector(`${He}[${Q}="${encodeURIComponent(c)}"]`);return x==null?void 0:x.getAttribute("id")},[]);return o.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),o.createElement(G.input,{ref:n,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":d,id:u.inputId,type:"text",value:s?e.value:i,onChange:p=>{s||l.setState("search",p.target.value),r==null||r(p.target.value)}})}),Fr=o.forwardRef((e,n)=>{let{children:r,label:a="Suggestions",...s}=e,l=o.useRef(null),i=o.useRef(null),c=pe();return o.useEffect(()=>{if(i.current&&l.current){let u=i.current,d=l.current,p,x=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let O=u.offsetHeight;d.style.setProperty("--cmdk-list-height",O.toFixed(1)+"px")})});return x.observe(u),()=>{cancelAnimationFrame(p),x.unobserve(u)}}},[]),o.createElement(G.div,{ref:me([l,n]),...s,"cmdk-list":"",role:"listbox","aria-label":a,id:c.listId},$e(e,u=>o.createElement("div",{ref:me([i,c.listInnerRef]),"cmdk-list-sizer":""},u)))}),_r=o.forwardRef((e,n)=>{let{open:r,onOpenChange:a,overlayClassName:s,contentClassName:l,container:i,...c}=e;return o.createElement(Sr,{open:r,onOpenChange:a},o.createElement(Pr,{container:i},o.createElement(Dr,{"cmdk-overlay":"",className:s}),o.createElement(Rr,{"aria-label":e.label,"cmdk-dialog":"",className:l},o.createElement(Dt,{ref:n,...c}))))}),Ur=o.forwardRef((e,n)=>ne(r=>r.filtered.count===0)?o.createElement(G.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),Br=o.forwardRef((e,n)=>{let{progress:r,children:a,label:s="Loading...",...l}=e;return o.createElement(G.div,{ref:n,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},$e(e,i=>o.createElement("div",{"aria-hidden":!0},i)))}),V=Object.assign(Dt,{List:Fr,Item:Ar,Input:Tr,Group:Lr,Separator:Mr,Dialog:_r,Empty:Ur,Loading:Br});function Kr(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function zr(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function Rt(e){let n=o.useRef(e);return te(()=>{n.current=e}),n}var te=typeof window>"u"?o.useEffect:o.useLayoutEffect;function ce(e){let n=o.useRef();return n.current===void 0&&(n.current=e()),n}function me(e){return n=>{e.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}function ne(e){let n=Ve(),r=()=>e(n.snapshot());return o.useSyncExternalStore(n.subscribe,r,r)}function It(e,n,r,a=[]){let s=o.useRef(),l=pe();return te(()=>{var i;let c=(()=>{var d;for(let p of r){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(d=p.current.textContent)==null?void 0:d.trim():s.current}})(),u=a.map(d=>d.trim());l.value(e,c,u),(i=n.current)==null||i.setAttribute(Q,c),s.current=c}),s}var Wr=()=>{let[e,n]=o.useState(),r=ce(()=>new Map);return te(()=>{r.current.forEach(a=>a()),r.current=new Map},[e]),(a,s)=>{r.current.set(a,s),n({})}};function qr(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function $e({asChild:e,children:n},r){return e&&o.isValidElement(n)?o.cloneElement(qr(n),{ref:n.ref},r(n.props.children)):r(n)}var Hr={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ot=o.forwardRef(({className:e,...n},r)=>t.jsx(V,{ref:r,className:de("flex h-full w-full flex-col overflow-hidden rounded-md bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",e),...n}));Ot.displayName=V.displayName;const At=o.forwardRef(({className:e,...n},r)=>t.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[t.jsx(yn,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),t.jsx(V.Input,{ref:r,className:de("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-slate-500 disabled:cursor-not-allowed disabled:opacity-50 dark:placeholder:text-slate-400",e),...n})]}));At.displayName=V.Input.displayName;const Lt=o.forwardRef(({className:e,...n},r)=>t.jsx(V.List,{ref:r,className:de("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));Lt.displayName=V.List.displayName;const Mt=o.forwardRef((e,n)=>t.jsx(V.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));Mt.displayName=V.Empty.displayName;const Vr=o.forwardRef(({className:e,...n},r)=>t.jsx(V.Group,{ref:r,className:de("overflow-hidden p-1 text-slate-950 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-slate-500 dark:text-slate-50 dark:[&_[cmdk-group-heading]]:text-slate-400",e),...n}));Vr.displayName=V.Group.displayName;const Yr=o.forwardRef(({className:e,...n},r)=>t.jsx(V.Separator,{ref:r,className:de("-mx-1 h-px bg-slate-200 dark:bg-slate-800",e),...n}));Yr.displayName=V.Separator.displayName;const Tt=o.forwardRef(({className:e,...n},r)=>t.jsx(V.Item,{ref:r,className:de("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-slate-100 data-[selected=true]:text-slate-900 data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:data-[selected='true']:bg-slate-800 dark:data-[selected=true]:text-slate-50",e),...n}));Tt.displayName=V.Item.displayName;function we({trigger:e,type:n,target:r,required:a=!1,componentProps:s}){var u;const[l,i]=o.useState(typeof e=="string"?e:""),c=d=>{if(a&&l.length===0){d.preventDefault();return}typeof r=="function"&&r(l)};return t.jsxs(Ue,{children:[t.jsx(dt,{className:`p-2 text-left hover:outline hover:outline-slate-500 rounded-md ${s==null?void 0:s.dialogTriggerCN}`,children:e}),t.jsxs(Be,{children:[t.jsxs(Ke,{children:[t.jsxs(ze,{children:["Edit ",n]}),t.jsx(We,{className:"hidden"})]}),t.jsx("input",{placeholder:a?"*required":"",className:a&&l.length===0?"border-2 border-red-500":"",type:"text",value:l,onBlur:()=>i(d=>d.trim()),onChange:d=>i(d.target.value),...s==null?void 0:s.input}),((u=s==null?void 0:s.input)==null?void 0:u.maxLength)&&t.jsx("div",{className:"font-bold text-sm text-red-500",children:l.length===s.input.maxLength&&"Max. characters: 255"}),t.jsx(xn,{className:"justify-end",children:t.jsx(ut,{asChild:!0,children:t.jsxs("button",{type:"button",className:"px-3 py-2 bg-cyan-400 rounded-lg",onClick:c,children:["Set ",n]})})})]})]})}function Ie({size:e}){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e||"24",height:e||"24",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-trash",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M20 6a1 1 0 0 1 .117 1.993l-.117 .007h-.081l-.919 11a3 3 0 0 1 -2.824 2.995l-.176 .005h-8c-1.598 0 -2.904 -1.249 -2.992 -2.75l-.005 -.167l-.923 -11.083h-.08a1 1 0 0 1 -.117 -1.993l.117 -.007h16z"}),t.jsx("path",{d:"M14 2a2 2 0 0 1 2 2a1 1 0 0 1 -1.993 .117l-.007 -.117h-4l-.007 .117a1 1 0 0 1 -1.993 -.117a2 2 0 0 1 1.85 -1.995l.15 -.005h4z"})]})}function lt({size:e}){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e||"24",height:e||"24",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-square-arrow-up",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1 -3 3h-14a3 3 0 0 1 -3 -3v-14a3 3 0 0 1 3 -3zm-7 5l-.09 .004l-.058 .007l-.118 .025l-.105 .035l-.113 .054l-.111 .071a1.008 1.008 0 0 0 -.112 .097l-4 4l-.083 .094a1 1 0 0 0 .083 1.32l.094 .083a1 1 0 0 0 1.32 -.083l2.293 -2.292v5.585l.007 .117a1 1 0 0 0 1.993 -.117v-5.585l2.293 2.292l.094 .083a1 1 0 0 0 1.32 -1.497l-4 -4l-.082 -.073l-.104 -.074l-.098 -.052l-.11 -.044l-.112 -.03l-.126 -.017l-.075 -.003z"})]})}function ct({size:e}){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e||"24",height:e||"24",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-square-arrow-down",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1 -3 3h-14a3 3 0 0 1 -3 -3v-14a3 3 0 0 1 3 -3zm-7 5a1 1 0 0 0 -1 1v5.585l-2.293 -2.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l4 4l.094 .083l.092 .064l.098 .052l.11 .044l.112 .03l.126 .017l.075 .003l.117 -.007l.149 -.029l.105 -.035l.113 -.054l.111 -.071a.939 .939 0 0 0 .112 -.097l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32l-.094 -.083a1 1 0 0 0 -1.32 .083l-2.293 2.292v-5.585l-.007 -.117a1 1 0 0 0 -.993 -.883z"})]})}function Xr({keywords:e,className:n,activeOrgKeywords:r,updateOrgKeywords:a}){e=s(e);function s($){return $.sort((P,v)=>P.keyword.localeCompare(v.keyword))}const[l,i]=o.useState([]),[c,u]=o.useState([]),[d,p]=o.useState(!1);o.useEffect(()=>{x()},[]),o.useEffect(()=>{p(l!==r)},[l]);const x=()=>{i(r);const $=e.filter(P=>!r.some(v=>v.keyword===P.keyword));u($)},[O,S]=o.useState(""),T=$=>{if(S($.target.value),$.target.value===""||$.target.value===null){u(s(c));return}const P=c.filter(g=>g.keyword.toLowerCase().includes($.target.value.toLowerCase())).sort((g,w)=>{const j=$.target.value.toLowerCase(),M=g.keyword.toLowerCase(),D=w.keyword.toLowerCase(),k=M.startsWith(j)?0:1,z=D.startsWith(j)?0:1;return k!==z?k-z:M.indexOf(j)-D.indexOf(j)||M.localeCompare(D)}),v=c.filter(g=>!g.keyword.toLowerCase().includes($.target.value.toLowerCase())).sort((g,w)=>g.keyword.localeCompare(w.keyword));u([...P,...v])},y=$=>{const P=s([...l,$]);i(P),u(v=>v.filter(g=>g.keyID!==$.keyID))},R=$=>{const P=[$,...c];u(s(P)),i(v=>v.filter(g=>g.keyID!==$.keyID))};return t.jsxs("div",{className:`w-full flex flex-wrap gap-2 min-h-10 border-[1px] rounded-md p-2 relative text-xs overflow-clip group ${n}`,children:[t.jsxs(Ue,{children:[t.jsx(dt,{className:"absolute size-full inset-0",children:t.jsxs("div",{className:"size-full flex items-center justify-center invisible group-hover:visible group-hover:!bg-gray-800/70 text-black/0 group-hover:!text-white transition-all duration-200 ease-in-out",children:[(l==null?void 0:l.length)!==0&&"Edit"||"Add"," Keywords"]})}),t.jsxs(Be,{className:"sm:max-w-[32rem] !h-fit max-h-[90%] w-[90%] sm:h-auto overflow-y-auto select-none",children:[t.jsxs(Ke,{children:[t.jsx(ze,{children:"Add/Remove Keyword Filters"}),t.jsxs(We,{className:"!-mb-3",children:["Filter organizations by adding or removing keywords. Save changes when you're done.",t.jsxs("span",{className:`text-red-500 font-bold ${d?"visible":"invisible"}`,children:[t.jsx("br",{}),"You have unsaved changes."]})]})]}),t.jsxs("div",{className:"flex gap-x-3",children:[t.jsx("input",{className:"w-full rounded-md",type:"text",autoComplete:"off",placeholder:"Find Keywords...",name:"keyword_filter",onChange:T,value:O}),t.jsx("button",{onClick:x,className:"h-full px-3 border border-black rounded-md hover:bg-gray-800 hover:text-white transition-all",children:"Reset"})]}),t.jsxs("div",{className:"w-full flex flex-wrap justify-center sm:justify-start gap-2 border-[1px] rounded-md border-gray-800 p-2 relative text-xs overflow-clip",children:[l.length!==0&&l.map(($,P)=>t.jsx(B,{name:$.keyword,remove:!0,onClick:()=>R($)},P)),l.length===0&&t.jsx("div",{className:"pl-1 h-8 flex items-center",children:"(No Keywords Selected)"})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-arrow-up",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M12 5l0 14"}),t.jsx("path",{d:"M18 11l-6 -6"}),t.jsx("path",{d:"M6 11l6 -6"})]})}),t.jsx("div",{className:"w-full flex flex-wrap justify-center sm:justify-start gap-2 border-[1px] rounded-md border-gray-300 p-2 relative text-xs",children:c.map(($,P)=>t.jsx(B,{name:$.keyword,add:!0,onClick:()=>y($)},P))}),d&&t.jsx(ut,{asChild:!0,children:t.jsxs("div",{className:"w-full flex justify-end space-x-3",children:[t.jsx("div",{className:"text-red-500 font-bold my-auto",children:"You have unsaved changes."}),t.jsx(wn,{type:"button",className:"bg-transparent hover:!bg-gray-800 text-black hover:!text-white border border-black w-fit",onClick:()=>a(l),children:"Update"})]})})]})]}),r.length!==0?r.map(($,P)=>t.jsx(L,{name:$.keyword},P)):t.jsx("div",{className:"text-gray-500 my-auto flex items-center",children:"(No Keywords Attached)"})]});function L({name:$}){return t.jsx("div",{className:"w-min px-2 py-1 bg-[#ffb700] border border-gray-300 h-fit rounded-md cursor-pointer whitespace-nowrap",children:$})}function B({name:$,remove:P,add:v,...g}){return t.jsxs("button",{...g,className:`select-none w-min px-2 py-1 ${v&&"bg-gray-200"} ${P&&"bg-[#ffb700]"} border border-gray-300 h-8 rounded-md space-x-2 flex items-center ${v&&"hover:bg-gray-300"} ${P&&"hover:bg-[#e6a70b]"} group`,children:[t.jsx("span",{className:"whitespace-nowrap",children:$}),t.jsxs("div",{className:"h-5 aspect-square text-gray-400",children:[P&&t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-circle-x text-black/70",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z"})]}),v&&t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-circle-plus",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M4.929 4.929a10 10 0 1 1 14.141 14.141a10 10 0 0 1 -14.14 -14.14zm8.071 4.071a1 1 0 1 0 -2 0v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0 -2h-2v-2z"})]})]})]})}}function ho({pageData:e,pageLayoutData:n,keywords:r,orgID:a,members:s}){const{errors:l}=Ut().props;console.log("errors:",l);const i=2*1024*1024,[c,u]=o.useState({pageData:{...e},pageLayoutData:{...n}}),[d,p]=o.useState({all:!1,storage:{}});console.log("current page state:",c),o.useEffect(()=>{const v=!(JSON.stringify(c.pageData)===JSON.stringify(e)&&JSON.stringify(c.pageLayoutData)===JSON.stringify(n));p(w=>({...w,all:v}));function g(w,j){return JSON.stringify(w)===JSON.stringify(j)}if(v){let w={};g(c.pageLayoutData.coverPhoto,n.coverPhoto)?delete w.coverPhoto:w.coverPhoto=!0,g(c.pageLayoutData.logo,n.logo)?delete w.logo:w.logo=!0,g(c.pageLayoutData.metadata.keywords,n.metadata.keywords)?delete w.keywords:w.keywords=!0,g(c.pageData.aboutUs,e.aboutUs)?delete w.aboutUs:w.aboutUs=!0,g(c.pageData.contacts,e.contacts)?delete w.contacts:w.contacts=!0,g(c.pageData.officers,e.officers)?delete w.officers:w.officers=!0,g(c.pageData.fb_link,e.fb_link)?delete w.social:w.social=!0,g(c.pageData.photos,e.photos)?delete w.photos:w.photos=!0,p(j=>({...j,changes:w}))}else p(w=>(delete w.changes,delete w.files,w))},[c]);const x=()=>{u({pageLayoutData:n,pageData:e}),p({all:!1})};return t.jsxs("div",{className:"w-full",children:[t.jsx(Bt,{title:"Admin Dashboard"}),t.jsx(Wt,{orgID:a,children:t.jsx(qt,{navItems:[{icon:t.jsx(Zt,{}),label:"Edit Page",link:"admin.editpage",params:{orgID:a}},{icon:t.jsx(Ht,{}),label:"Members",link:"admin.invite",params:{orgID:a}}],title:"Edit Organization's Page",children:t.jsxs("div",{className:`p-5 m-1 !border-2 border-transparent ${d.all&&"!border-red-500"}`,children:[d.all&&t.jsx("div",{className:"flex justify-end mb-2",children:t.jsx("div",{className:"px-3 py-1 text-sm text-white rounded-full bg-red-500",children:"Unsaved Changes"})}),t.jsx(Vt,{editing:{coverPhoto:t.jsx(O,{}),orgLogo:t.jsx(S,{}),keywords:t.jsx(T,{}),aboutUs:t.jsx(y,{}),contacts:t.jsx(R,{}),officers:t.jsx(L,{}),social:t.jsx(B,{}),photos:t.jsx($,{}),saveButton:t.jsx(P,{})},pageData:c.pageData,pageLayoutData:c.pageLayoutData})]})})})]});function O(){var F,A;const v=c.pageLayoutData.coverPhoto!==n.coverPhoto,[g,w]=o.useState((F=d==null?void 0:d.storage)==null?void 0:F.coverPhoto),[j,M]=o.useState(g?URL.createObjectURL(g):""),[D,k]=o.useState(""),z=h=>{const f=h.target.files[0];if(f){if(f.size>i){k("Max. file size 2MB exceeded.");return}else k("");if(f.name==="default.jpeg"){k('File name "default.jpeg" is not allowed.');return}else k("");w(f),M(URL.createObjectURL(f))}},Y=()=>{u(h=>({...h,pageLayoutData:{...h.pageLayoutData,coverPhoto:j}})),p(h=>({...h,storage:{...h.storage,coverPhoto:g}}))},W=()=>{u(h=>({...h,pageLayoutData:{...h.pageLayoutData,coverPhoto:n.coverPhoto}})),p(h=>{let f={...h};return delete f.storage.coverPhoto,f})};return Object.entries(l).filter(([h])=>h==="changesMade.storage.coverPhoto").map(([,h])=>h),t.jsxs(q,{title:"Set Page Cover Photo",componentProps:{dialogTriggerCN:(A=d.changes)!=null&&A.coverPhoto?"border border-red-500":""},footer:t.jsx(q.ActionButtons,{resetProps:{onClick:W},previewChangeProps:g?{onClick:Y}:null}),editErrors:l["changesMade.storage.coverPhoto"],children:[t.jsxs("label",{children:["Select an image:"," ",t.jsx("span",{className:"text-gray-400",children:"(Accepts .png, .jpg, and .jpeg. Max 2MB)"})]}),t.jsx("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",onChange:z}),t.jsx("div",{className:"font-bold text-sm text-red-500",children:D}),j&&t.jsx("div",{children:t.jsx("img",{src:j,alt:"Image Preview",className:"object-cover",style:{width:"100%"}})})||v&&t.jsx("img",{src:c.pageLayoutData.coverPhoto,alt:"Image Preview",className:"object-cover",style:{width:"100%"}})]})}function S(){var F,A;const v=c.pageLayoutData.logo!==n.logo,[g,w]=o.useState((F=d==null?void 0:d.storage)==null?void 0:F.logo),[j,M]=o.useState(g?URL.createObjectURL(g):""),[D,k]=o.useState(""),z=h=>{const f=h.target.files[0];if(f){if(f.size>i){k("Max. file size 2MB exceeded.");return}else k("");if(f.name==="default.jpeg"){k('File name "default.jpeg" is not allowed.');return}else k("");w(f),M(URL.createObjectURL(f))}},Y=()=>{u(h=>({...h,pageLayoutData:{...h.pageLayoutData,logo:j}})),p(h=>({...h,storage:{...h.storage,logo:g}}))},W=()=>{u(h=>({...h,pageLayoutData:{...h.pageLayoutData,logo:n.logo}})),p(h=>{let f={...h};return delete f.storage.logo,f})};return t.jsxs(q,{title:"Set Organization Logo",componentProps:{dialogTriggerCN:(A=d.changes)!=null&&A.logo?"border border-red-500":""},footer:t.jsx(q.ActionButtons,{resetProps:{onClick:W},previewChangeProps:g?{onClick:Y}:null}),editErrors:l["changesMade.storage.logo"],children:[t.jsxs("label",{children:["Select an image:"," ",t.jsx("span",{className:"text-gray-400",children:"(Accepts .png, .jpg, and .jpeg. Max 2MB)"})]}),t.jsx("input",{type:"file",accept:"image/png, image/jpg, image/jpeg, image/webp",onChange:z}),t.jsx("div",{className:"font-bold text-sm text-red-500",children:D}),j&&t.jsx("div",{children:t.jsx("img",{src:j,alt:"Image Preview",style:{width:"100%"}})})||v&&t.jsx("img",{src:c.pageLayoutData.logo,alt:"Image Preview",style:{width:"100%"}})]})}function T(){var D;const[v,g]=o.useState(c.pageLayoutData.metadata.keywords),w=()=>{u(k=>({...k,pageLayoutData:{...k.pageLayoutData,metadata:{...k.pageLayoutData.metadata,keywords:n.metadata.keywords}}})),g(n.metadata.keywords)},j=()=>{u(k=>({...k,pageLayoutData:{...k.pageLayoutData,metadata:{...k.pageLayoutData.metadata,keywords:v}}}))},M=k=>{g(k)};return t.jsx(q,{title:"Set Organization Keywords",componentProps:{dialogTriggerCN:(D=d.changes)!=null&&D.keywords?"border border-red-500":""},footer:t.jsx(q.ActionButtons,{resetProps:{onClick:w},previewChangeProps:{onClick:j}}),editErrors:l["pageState.pageLayoutData.keywords"],children:t.jsx(Xr,{keywords:r,activeOrgKeywords:v,updateOrgKeywords:M})})}function y(){var D;const[v,g]=o.useState(c.pageData.aboutUs||""),w=1500,j=()=>{u(k=>({...k,pageData:{...k.pageData,aboutUs:v}}))},M=()=>{u(k=>({...k,pageData:{...k.pageData,aboutUs:e.aboutUs}}))};return t.jsxs(q,{title:"Set About Us description (Max. 1500 characters)",componentProps:{dialogTriggerCN:(D=d.changes)!=null&&D.aboutUs?"border border-red-500":""},footer:t.jsx(q.ActionButtons,{resetProps:{onClick:M},previewChangeProps:{onClick:j}}),editErrors:l["pageState.pageData.aboutUs"],children:[t.jsx("textarea",{placeholder:"Your description here...",className:"h-52",maxLength:w,value:v||"",onBlur:()=>g(k=>k==null?void 0:k.trim()),onChange:k=>g(k.target.value)}),t.jsx("div",{className:"font-bold text-sm text-red-500",children:v.length==w&&`Max. length ${w} reached.`})]})}function R(){var Y,W;const[v,g]=o.useState(((Y=c==null?void 0:c.pageData)==null?void 0:Y.contacts)||[]),w=()=>{const F=v.filter(A=>A.name!==""&&A.address!=="");g(F),u(A=>({...A,pageData:{...A.pageData,contacts:F}}))},j=()=>{u(F=>({...F,pageData:{...F.pageData,contacts:e.contacts}}))};function M(F){const A=v.filter((h,f)=>f!==F);g(A)}const D={email:t.jsx(Jt,{}),instagram:t.jsx(en,{}),facebook:t.jsx(tn,{}),x:t.jsx(Yt,{}),linkedin:t.jsx(Xt,{}),default:t.jsx(Gt,{})},k=()=>{g(F=>{let A={contactID:null,orgID:n.orgID,platform:"default",name:"",address:""};return[...F,A]})};return t.jsx(q,{title:"Set contacts list",componentProps:{dialogContentCN:"max-w-[40rem]",dialogTriggerCN:(W=d.changes)!=null&&W.contacts?"border border-red-500":""},footer:t.jsx(q.ActionButtons,{resetProps:{onClick:j},previewChangeProps:{onClick:w}}),editErrors:l["pageState.pageData.contacts"],children:t.jsxs("div",{className:"border border-slate-400 w-full p-2 overflow-x-auto",children:[t.jsxs("table",{className:"w-full min-w-96",children:[t.jsx("thead",{className:"font-bold",children:t.jsxs("tr",{children:[t.jsx("td",{className:"text-center",children:"Type"}),t.jsx("td",{className:"px-3",children:"Name"}),t.jsx("td",{children:"Address"}),t.jsx("td",{children:"Action"})]})}),t.jsx("tbody",{children:v.map((F,A)=>t.jsxs("tr",{children:[t.jsx("td",{className:"h-12",children:t.jsx(z,{trigger:t.jsx("div",{className:"size-full flex items-center justify-center cursor-pointer hover:bg-slate-300 rounded-lg",children:D[F.platform]}),index:A})}),t.jsx("td",{className:"px-3",children:t.jsx(we,{trigger:F.name||t.jsx("span",{className:"text-red-500/80 font-bold",children:"*required"}),type:"Name",required:"true",componentProps:{input:{maxLength:255}},target:h=>{g(f=>{const b=[...f];return b[A]={...b[A],name:h},b})}})}),t.jsx("td",{children:t.jsx(we,{trigger:F.address||t.jsx("span",{className:"text-red-500/80 font-bold",children:"*required"}),type:"Address",required:"true",componentProps:{input:{maxLength:255}},target:h=>{g(f=>{const b=[...f];return b[A]={...b[A],address:h},b})}})}),t.jsx("td",{children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("button",{onClick:()=>M(A),className:"size-10 flex items-center justify-center rounded-lg hover:bg-slate-300",children:t.jsx(Ie,{})})})})]},A))})]}),t.jsx("div",{className:"border-b-[1px] mt-2 mb-3 border-slate-400 w-full"}),t.jsxs("button",{className:"py-2 rounded-md text-center w-full bg-slate-300 hover:bg-slate-300/80",onClick:k,children:[t.jsx("span",{className:"text-xl",children:"+"})," Add Contact"]})]})});function z({trigger:F,index:A}){var C;const[h,f]=o.useState((C=v[A])==null?void 0:C.platform),b=_=>{f(_),g(m=>{const N=[...m];return N[A]={...N[A],platform:_},N})};return t.jsxs(nn,{children:[t.jsx(rn,{asChild:!0,children:F}),t.jsxs(on,{className:"w-56",children:[t.jsx(an,{children:"Select Platform"}),t.jsx(sn,{}),t.jsxs(ln,{value:h,onValueChange:b,children:[t.jsxs(oe,{className:"cursor-pointer hover:font-bold",value:"email",children:[D.email," Email"]}),t.jsxs(oe,{className:"cursor-pointer hover:font-bold",value:"instagram",children:[D.instagram," Instagram"]}),t.jsxs(oe,{className:"cursor-pointer hover:font-bold",value:"facebook",children:[D.facebook," Facebook"]}),t.jsxs(oe,{className:"cursor-pointer hover:font-bold",value:"x",children:[D.x," X (formerly Twitter)"]}),t.jsxs(oe,{className:"cursor-pointer hover:font-bold",value:"linkedin",children:[D.linkedin," LinkedIn"]}),t.jsxs(oe,{className:"cursor-pointer hover:font-bold",value:"default",children:[D.default," Other"]})]})]})]})}}function L(){var A;const[v,g]=o.useState([...c.pageData.officers]),w=o.useMemo(()=>s.sort((h,f)=>h.lastname.localeCompare(f.lastname)),[s]),[j,M]=o.useState(null),D=()=>{u(h=>{const f=v.filter(b=>b.userID!==null&&b.user!==null&&b.position!=="");return{...h,pageData:{...h.pageData,officers:[...f]}}})},k=()=>{g(h=>[...h,{officerID:null,orgID:a,userID:null,position:"",user:null}])};function z(h){h!==0&&g(f=>{let b=[...f];const C=b[h-1];return b[h-1]=b[h],b[h]=C,b})}function Y(h){h>=v.length-1||g(f=>{let b=[...f];const C=b[h+1];return b[h+1]=b[h],b[h]=C,b})}function W(h){g(f=>f.filter((C,_)=>_!==h))}const F=()=>{u(h=>({...h,pageData:{...h.pageData,officers:e.officers}}))};return t.jsxs(q,{title:"Set officers list",componentProps:{dialogContentCN:"max-w-[40rem] w-full overflow-x-auto",dialogTriggerCN:(A=d.changes)!=null&&A.officers?"border border-red-500":""},footer:t.jsx(q.ActionButtons,{previewChangeProps:{onClick:D},resetProps:{onClick:F}}),editErrors:l["pageState.pageData.officers"],children:[t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-2",children:t.jsx("div",{className:"py-3",children:"Position"})}),t.jsx("th",{className:"text-left px-2",children:"Assigned Member"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:v.map((h,f)=>t.jsxs(Kt.Fragment,{children:[t.jsxs("tr",{children:[t.jsx("td",{className:"text-left",children:t.jsx(we,{trigger:(h==null?void 0:h.position)||t.jsx("span",{className:"text-red-500/80 font-bold",children:"*required"}),type:"Position Name",required:"true",componentProps:{dialogTriggerCN:"text-xs sm:text-base leading-tight sm:leading-normal",input:{maxLength:255}},target:b=>{g(C=>{let _=[...C];return _[f]={..._[f],position:b},_})}})}),t.jsx("td",{children:t.jsx("button",{className:"w-full text-left p-2 hover:outline hover:outline-slate-500 rounded-md",onClick:()=>M(f),children:h.user!==null?`${h.user.lastname}, ${h.user.firstname}${h.user.middlename?` ${h.user.middlename}`:""}`:t.jsx("span",{className:"text-red-500/80 font-bold",children:"*required"})})}),t.jsx("td",{children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-3 justify-center items-center",children:[t.jsxs("div",{className:"flex gap-x-1 items-center",children:[t.jsxs("button",{className:"text-slate-600 enabled:hover:text-slate-600/80 disabled:cursor-not-allowed relative group",onClick:()=>z(f),disabled:f===0,children:[t.jsx(lt,{size:30}),t.jsx("div",{className:"group-disabled:block hidden h-0 border-b-2 border-red-500 absolute w-full inset-0 m-auto -rotate-45"})]}),t.jsxs("button",{className:"text-slate-600 enabled:hover:text-slate-600/80 disabled:cursor-not-allowed relative group",onClick:()=>Y(f),disabled:f===v.length-1,children:[t.jsx(ct,{size:30}),t.jsx("div",{className:"group-disabled:block hidden h-0 border-b-2 border-red-500 absolute w-full inset-0 m-auto -rotate-45"})]})]}),t.jsxs("button",{onClick:()=>W(f),className:"size-10 flex items-center justify-center rounded-lg hover:bg-slate-300 relative group disabled:cursor-not-allowed",children:[t.jsx(Ie,{}),t.jsx("div",{className:"group-disabled:block hidden h-0 border-b-2 border-red-500 absolute w-full inset-0 m-auto -rotate-45"})]})]})})]}),t.jsx("tr",{children:t.jsx("td",{colSpan:"3",children:t.jsx("div",{className:"border-b-[1px] mt-2 mb-3 border-slate-300 w-full"})})})]},f))})]}),t.jsxs("button",{className:"py-2 rounded-md text-center w-full bg-slate-300 hover:bg-slate-300/80",onClick:k,children:[t.jsx("span",{className:"text-xl",children:"+"})," Add Officer"]}),t.jsx(Ue,{open:j!==null,onOpenChange:h=>M(h?j:null),children:t.jsx(Be,{children:t.jsxs(Ke,{children:[t.jsx(ze,{children:"Assign Student to this Position"}),t.jsx(We,{className:"mb-4",children:"Below is a list of your organization's current members:"}),t.jsxs(Ot,{children:[t.jsx(At,{placeholder:"Search member by student id or name..."}),t.jsxs(Lt,{children:[t.jsx(Mt,{children:"No member found."}),w.map(h=>t.jsxs(Tt,{className:"hover:font-bold cursor-pointer py-4",value:`${h.lastname}, ${h.firstname}${h.middlename?` ${h.middlename} ${h.userID}`:""}`,onSelect:()=>{var b;const f={officerID:((b=v[j])==null?void 0:b.officerID)||null,orgID:parseInt(a),userID:String(h.userID),position:v[j].position,user:{...h}};g(C=>{let _=[...C];return _[j]=f,_}),M(null)},children:[t.jsx("span",{className:"w-[10ch] text-end",children:h.userID}),"|  ",h.lastname,", ",h.firstname,h.middlename?` ${h.middlename}`:""]},h.userID))]})]})]})})})]})}function B(){var M;const[v,g]=o.useState(c.pageData.fb_link),w=()=>{u(D=>({...D,pageData:{...D.pageData,fb_link:v}}))},j=()=>{u(D=>({...D,pageData:{...D.pageData,fb_link:e.fb_link}}))};return t.jsxs(q,{title:"Set Facebook IFrame link",componentProps:{dialogTriggerCN:(M=d.changes)!=null&&M.social?"border border-red-500":""},transparent:!0,footer:t.jsx(q.ActionButtons,{resetProps:{onClick:j},previewChangeProps:{onClick:w}}),editErrors:l["pageState.pageData.fb_link"],children:[t.jsx("input",{type:"text",value:v||"",onBlur:()=>g(D=>D==null?void 0:D.trim()),onChange:D=>g(D.target.value),maxLength:255}),t.jsx("div",{className:"font-bold text-sm text-red-500",children:(v==null?void 0:v.length)===255&&"Max. characters: 255"})]})}function $(){var A,h;const[v,g]=o.useState(c.pageData.photos),[w,j]=o.useState(((A=d==null?void 0:d.storage)==null?void 0:A.photos)||{}),M=()=>{const f=v.filter(b=>b.caption!==""&&b.filename!=="");u(b=>({...b,pageData:{...b.pageData,photos:f}})),p(b=>({...b,storage:{...b.storage,photos:w}}))},D=()=>{u(f=>({...f,pageData:{...f.pageData,photos:e.photos}})),p(f=>{let b={...f};return delete b.storage.photos,b})},k=f=>{if(f==0&&v.length==1)return;const b=v.filter((C,_)=>_!==f);g(b),j(C=>{const{[f]:_,...m}=C;let N={};return Object.entries(m).forEach(([I,E])=>{I>f?N[I-1]=E:N[I]=E}),N})};function z(f){f!==0&&(g(b=>{const C=[...b],_=C[f-1];return C[f-1]=C[f],C[f]=_,C}),j(b=>{const C={...b};if(f in C&&f-1 in C){const _=C[f-1];C[f-1]=C[f],C[f]=_}else f in C&&(C[f-1]=C[f],delete C[f]);return C}))}function Y(f){f>=v.length-1||(g(b=>{const C=[...b],_=C[f+1];return C[f+1]=C[f],C[f]=_,C}),j(b=>{const C={...b};if(f in C&&f+1 in C){const _=C[f+1];C[f+1]=C[f],C[f]=_}else f in C&&(C[f+1]=C[f],delete C[f]);return C}))}function W(){g(f=>{const b={photoID:null,orgID:a,caption:"",filename:""};return[...f,b]})}return t.jsxs(q,{title:"Set Showcase Photos",transparent:!0,componentProps:{dialogContentCN:"max-w-[40rem] w-full overflow-x-auto",dialogTriggerCN:(h=d.changes)!=null&&h.photos?"border border-red-500":""},footer:t.jsx(q.ActionButtons,{resetProps:{onClick:D},previewChangeProps:{onClick:M}}),editErrors:l["changesMade.storage.photos"]||l["pageState.pageData.photos"],children:[t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsxs("th",{className:"w-56 max-w-56 min-w-36",children:["Preview ",t.jsx("br",{}),t.jsxs("span",{className:"text-gray-400 text-xs !leading-[0rem]",children:["(Accepts .png, .jpg, and .jpeg. Max 2MB."," ",t.jsx("s",{children:"default.jpeg"}),")"]})]}),t.jsx("th",{className:"w-72",children:"Caption"}),t.jsx("th",{className:"w-32",children:"Action"})]})}),t.jsx("tbody",{children:v.map((f,b)=>t.jsx(F,{item:f,index:b},b))})]}),v.length<4&&t.jsxs("button",{className:"py-2 rounded-md text-center w-full bg-slate-300 hover:bg-slate-300/80",onClick:W,children:[t.jsx("span",{className:"text-xl",children:"+"})," Add Photo"]})||t.jsx("span",{className:"text-red-500 text-center text-sm font-bold -mt-3",children:"(Max: 4)"})]});function F({item:f,index:b}){const[C,_]=o.useState(""),m=N=>{const I=N.target.files[0];if(I){if(I.size>i){_("Max. file size 2MB exceeded.");return}else _("");if(I.name==="default.jpeg"){_('File name "default.jpeg" is not allowed.');return}else _("");const E=URL.createObjectURL(I);g(U=>{const K=[...U];return K[b]={...K[b],filename:E},K}),j(U=>({...U,[b]:I}))}};return t.jsxs(t.Fragment,{children:[t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{className:"flex flex-col gap-y-2",children:[t.jsx("img",{src:v[b].filename===""?"/storage/photo/default.jpeg":v[b].filename,alt:"Photo loading error"}),t.jsx("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",className:"w-full text-sm",onChange:m}),t.jsx("div",{className:"font-bold text-sm text-red-500",children:C})]})}),t.jsx("td",{children:t.jsx("div",{className:"py-2 px-1",children:t.jsx(we,{trigger:f.caption||t.jsx("span",{className:"text-red-500/80 font-bold",children:"*required"}),type:"Caption",required:"true",componentProps:{dialogTriggerCN:"text-xs sm:text-base leading-tight sm:leading-normal",input:{maxLength:255}},target:N=>{g(I=>{const E=[...I];return E[b]={...E[b],caption:N},E})}})})}),t.jsx("td",{children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-3 justify-center items-center",children:[t.jsxs("div",{className:"flex gap-x-1 items-center",children:[t.jsxs("button",{className:"text-slate-600 enabled:hover:text-slate-600/80 disabled:cursor-not-allowed relative group",onClick:()=>z(b),disabled:b===0,children:[t.jsx(lt,{size:30}),t.jsx("div",{className:"group-disabled:block hidden h-0 border-b-2 border-red-500 absolute w-full inset-0 m-auto -rotate-45"})]}),t.jsxs("button",{className:"text-slate-600 enabled:hover:text-slate-600/80 disabled:cursor-not-allowed relative group",onClick:()=>Y(b),disabled:b===v.length-1,children:[t.jsx(ct,{size:30}),t.jsx("div",{className:"group-disabled:block hidden h-0 border-b-2 border-red-500 absolute w-full inset-0 m-auto -rotate-45"})]})]}),t.jsxs("button",{onClick:()=>k(b),className:"size-10 flex items-center justify-center rounded-lg hover:bg-slate-300 relative group disabled:cursor-not-allowed",disabled:b==0&&v.length==1,children:[t.jsx(Ie,{}),t.jsx("div",{className:"group-disabled:block hidden h-0 border-b-2 border-red-500 absolute w-full inset-0 m-auto -rotate-45"})]})]})})]}),t.jsx("tr",{children:t.jsx("td",{colSpan:"3",children:t.jsx("div",{className:"border-b-[1px] mt-2 mb-3 border-slate-400 w-full"})})})]})}}function P(){const{data:v,_:g,post:w,progress:j}=zt({changesMade:d,pageState:c});async function M(D){D.preventDefault();try{w(route("admin.saveEditPage",[a]))}catch(k){console.log("save error: ",k)}}return t.jsx(t.Fragment,{children:d.all&&t.jsx("form",{onSubmit:D=>M(D),className:"contents",children:t.jsx("div",{className:"gap-4 flex flex-col md:items-center md:flex-row mt-6",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{className:"px-3 py-2 bg-red-400 rounded-lg whitespace-nowrap",onClick:x,children:"Reset All"}),t.jsxs("button",{type:"submit",className:"px-3 py-2 bg-cyan-400 rounded-lg whitespace-nowrap flex items-center gap-x-2",children:[j&&t.jsx("div",{className:"w-[40px] flex justify-center",children:t.jsx("div",{className:"dot-flashing"})}),t.jsx("span",{children:"Save Changes"})]})]})})})})}}export{ho as default};

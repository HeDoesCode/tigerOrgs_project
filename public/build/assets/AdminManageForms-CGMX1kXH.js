import{r as x,j as e,Y as f,c as l,y as s}from"./app-5vVXGVG_.js";import{A as g}from"./AdminLayout-DDGF8k-Z.js";import{M as j}from"./MainAdminFrame-BpPTWgWS.js";import{I as b}from"./IconCheckBox-BwThYcBh.js";import"./dialog-BS1Lg9Aa.js";import"./UserLayout-BLNZ9q6W.js";import"./index-C9cS9IJn.js";import{I as y,a as v}from"./IconStars-CZKyhg3Q.js";import"./button-BsivauZV.js";import{I as A,A as N}from"./IconPlus-BSn0uT35.js";import{A as F}from"./AdminDialog-vouKqORx.js";import{A as C,a as w,b as k,c as D,d as R,e as S,f as E,g as M,h as T}from"./alert-dialog-B3McycTk.js";import{S as m}from"./switch-DskZ14Et.js";import"./IconMenu3-_k7pRXGg.js";import"./createLucideIcon-BsjrLrBf.js";import"./utils-BvalcQ8H.js";import"./Logo-Cj8FJ7h2.js";import"./index-BUe9oJNu.js";import"./index-JRQe9GUv.js";import"./index-LwEi_wlA.js";import"./IconProfile-SHy4LGVO.js";import"./dropdown-menu-D38Yyb9Z.js";import"./index-Dl-8TJey.js";import"./index-DlaBCXL6.js";import"./index-DoYbns-L.js";function ae({orgID:r,orgName:n,forms:d,recruitmentStatusofOSA:a,recruitmentStatusofOrg:c}){const[i,p]=x.useState(c),o=t=>{s.post(route("admin.toggle-recruitment",r),{status:t,orgID:r},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{p(t),s.visit(route("admin.forms",r))},onError:()=>{console.error("Failed to toggle recruitment status")}})};return e.jsxs("div",{className:"w-full",children:[e.jsx(f,{title:"Admin Dashboard"}),e.jsx(g,{orgID:r,children:e.jsx(j,{navItems:[{icon:e.jsx(b,{}),label:"Student Applications",link:"admin.applications",params:{orgID:r}},{icon:e.jsx(y,{}),label:"Recruitment Form",link:"admin.forms",params:{orgID:r}},{icon:e.jsx(v,{}),label:"Manage Criteria",link:"admin.criteria.index",params:{orgID:r}}],title:"Manage Recruitment Form ",dialog:e.jsxs(F,{title:`Enable/Disable Recruitment for ${n}`,description:"Note: When you enable the recruitment, users following the organization will be notified.",trigger:e.jsxs("div",{className:`text-sm ml-3 -mt-1 ${i?"text-red-600":"text-green-600"} underline underline-offset-2`,children:["Click here to",i?" disable ":" enable ","recruitment"]}),children:[a?"":e.jsx("label",{className:"pr-[15px] text-[15px] leading-none text-red-600",htmlFor:"airplane-mode",children:"The recruitment for this year is currently disabled. Please wait for further announcement."}),e.jsx("label",{className:"pr-[15px] text-[15px] leading-none ",htmlFor:"airplane-mode",children:"Recruitment"}),e.jsxs("div",{className:"flex",children:[a?e.jsx(m,{id:"recruitment-toggle",className:"mr-2",checked:i,onCheckedChange:o,"aria-readonly":!0}):e.jsx(m,{id:"recruitment-toggle",className:"mr-2",checked:i,onCheckedChange:o,disabled:!0,"aria-readonly":!0}),i?"On":"Off"]})]}),children:e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"poppins mb-5",children:a?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-semibold",children:"Recruitment is now open."}),"  You may now deploy a Recruitment Form for ",e.jsxs("span",{className:"font-semibold",children:[n,"."]}),"  You can also browse history of forms from previous year ",e.jsx("span",{className:"text-[#FF9900]",children:e.jsx(l,{href:route("admin.formhistory",{orgID:r}),children:"here."})})]}):e.jsx("span",{className:"font-semibold",children:"Recruitment is currently closed."})}),e.jsxs("div",{className:"grid grid-cols-1  sm:grid-cols-2 md:grid-cols-4 gap-5",children:[e.jsxs(l,{href:route("admin.formbuilder",{orgID:r}),className:" bg-white flex items-center justify-center rounded-lg hover:bg-gray-100 min-h-14 hover:scale-[1.03] transition-all duration-300 ease-in-out",children:[e.jsx("div",{className:"text-gray-500 bg-gray-200 size-8 p-1 rounded-full",children:e.jsx(A,{})})," ",e.jsx("p",{className:"text-black poppins ml-2",children:"Create Form"})]}),d.map((t,u)=>e.jsx(N,{triggerContent:e.jsx("div",{className:`${t.deployed&&"border-4 border-green-600"} bg-white flex items-center justify-center rounded-lg hover:bg-gray-100 min-h-14 hover:scale-[1.03] transition-all duration-300 ease-in-out`,children:e.jsx("p",{className:"text-black poppins ml-2 line-clamp-2",children:t.formLayout.name})}),title:"Select Action",dropdownItems:[{name:"Edit Form",onSelect:()=>s.get(route("admin.formbuilder.edit",[r,t.formID]))},{name:e.jsxs(C,{children:[e.jsx(w,{children:"Delete Form"}),e.jsxs(k,{children:[e.jsxs(D,{children:[e.jsxs(R,{children:['Delete form "',t.formLayout.name,'" permanently?']}),e.jsx(S,{children:"This action cannot be undone."})]}),e.jsxs(E,{children:[e.jsx(M,{children:"Cancel"}),e.jsx(T,{onClick:()=>s.delete(route("admin.formbuilder.delete",[r,t.formID])),children:"Continue"})]})]})]}),onSelect:h=>h.preventDefault()},{name:`${t.deployed?"Withdraw":"Deploy"} Form`,onSelect:()=>{s.patch(route("admin.forms.setDeploy",[r,t.formID,!t.deployed]),{preserveScroll:!0})}}]},u))]})]})})})]})}export{ae as default};

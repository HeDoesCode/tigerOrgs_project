import{r as x,j as e,Y as f,c as o,y as i}from"./app-wTbvq_QV.js";import{A as g}from"./AdminLayout-161wwgiL.js";import{M as j}from"./MainAdminFrame-CZzgPJkk.js";import{I as b}from"./IconCheckBox-ClYu8ZT4.js";import"./index-fuKT8Dx1.js";import"./UserLayout-B_eFBEF5.js";import"./index-DuDJoJOD.js";import{I as y,a as v}from"./IconStars-BUUVEKnS.js";import"./button-UyB_9sy1.js";import{I as A,A as N}from"./IconPlus--23jmzp2.js";import{A as F}from"./AdminDialog-CzVC1zx-.js";import{A as C,a as w,b as k,c as D,d as R,e as S,f as E,g as M,h as T}from"./alert-dialog-DAaWwLRw.js";import{S as m}from"./switch-Cps2QH3c.js";import"./IconMenu3-CRQ8g1bN.js";import"./IconProfile-D6326uKr.js";import"./dropdown-menu-DaaXx7JZ.js";import"./index-CkVXNEJA.js";import"./index-x-fOI6Hq.js";function Z({orgID:r,orgName:n,forms:d,recruitmentStatusofOSA:a,recruitmentStatusofOrg:c}){const[s,p]=x.useState(c),l=t=>{i.post(route("admin.toggle-recruitment",r),{status:t,orgID:r},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{p(t),i.visit(route("admin.forms",r))},onError:()=>{console.error("Failed to toggle recruitment status")}})};return e.jsxs("div",{className:"w-full",children:[e.jsx(f,{title:"Admin Dashboard"}),e.jsx(g,{orgID:r,children:e.jsx(j,{navItems:[{icon:e.jsx(b,{}),label:"Student Applications",link:"admin.applications",params:{orgID:r}},{icon:e.jsx(y,{}),label:"Recruitment Form",link:"admin.forms",params:{orgID:r}},{icon:e.jsx(v,{}),label:"Manage Criteria",link:"admin.criteria.index",params:{orgID:r}}],title:"Manage Recruitment Form ",dialog:e.jsxs(F,{title:`Enable/Disable Recruitment for ${n}`,description:"Note: When you enable the recruitment, users following the organization will be notified.",trigger:e.jsxs("div",{className:`text-sm ml-3 -mt-1 ${s?"text-red-600":"text-green-600"} underline underline-offset-2`,children:["Click here to",s?" disable ":" enable ","recruitment"]}),children:[a?"":e.jsx("label",{className:"pr-[15px] text-[15px] leading-none text-red-600",htmlFor:"airplane-mode",children:"The recruitment for this year is currently disabled. Please wait for further announcement."}),e.jsx("label",{className:"pr-[15px] text-[15px] leading-none ",htmlFor:"airplane-mode",children:"Recruitment"}),e.jsxs("div",{className:"flex",children:[a?e.jsx(m,{id:"recruitment-toggle",className:"mr-2",checked:s,onCheckedChange:l,"aria-readonly":!0}):e.jsx(m,{id:"recruitment-toggle",className:"mr-2",checked:s,onCheckedChange:l,disabled:!0,"aria-readonly":!0}),s?"On":"Off"]})]}),children:e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"poppins mb-5",children:a?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-semibold",children:"Recruitment is now open."}),"  You may now deploy a Recruitment Form for ",e.jsxs("span",{className:"font-semibold",children:[n,"."]}),"  You can also browse history of forms from previous year ",e.jsx("span",{className:"text-[#FF9900]",children:e.jsx(o,{href:route("admin.formhistory",{orgID:r}),children:"here."})})]}):e.jsx("span",{className:"font-semibold",children:"Recruitment is currently closed."})}),e.jsxs("div",{className:"grid grid-cols-1  sm:grid-cols-2 md:grid-cols-4 gap-5",children:[e.jsxs(o,{href:route("admin.formbuilder",{orgID:r}),className:" bg-white flex items-center justify-center rounded-lg hover:bg-gray-100 min-h-14 hover:scale-[1.03] transition-all duration-300 ease-in-out",children:[e.jsx("div",{className:"text-gray-500 bg-gray-200 size-8 p-1 rounded-full",children:e.jsx(A,{})})," ",e.jsx("p",{className:"text-black poppins ml-2",children:"Create Form"})]}),d.map((t,u)=>e.jsx(N,{triggerContent:e.jsx("div",{className:`${t.deployed&&"border-4 border-green-600"} bg-white flex items-center justify-center rounded-lg hover:bg-gray-100 min-h-14 hover:scale-[1.03] transition-all duration-300 ease-in-out`,children:e.jsx("p",{className:"text-black poppins ml-2 line-clamp-2",children:t.formLayout.name})}),title:"Select Action",dropdownItems:[{name:"Edit Form",onSelect:()=>i.get(route("admin.formbuilder.edit",[r,t.formID]))},{name:e.jsxs(C,{children:[e.jsx(w,{children:"Delete Form"}),e.jsxs(k,{children:[e.jsxs(D,{children:[e.jsxs(R,{children:['Delete form "',t.formLayout.name,'" permanently?']}),e.jsx(S,{children:"This action cannot be undone."})]}),e.jsxs(E,{children:[e.jsx(M,{children:"Cancel"}),e.jsx(T,{onClick:()=>i.delete(route("admin.formbuilder.delete",[r,t.formID])),children:"Continue"})]})]})]}),onSelect:h=>h.preventDefault()},{name:`${t.deployed?"Withdraw":"Deploy"} Form`,onSelect:()=>{i.patch(route("admin.forms.setDeploy",[r,t.formID,!t.deployed]),{preserveScroll:!0})}}]},u))]})]})})})]})}export{Z as default};

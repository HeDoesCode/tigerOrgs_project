import{j as e,r as p,y as j,c as I,Y as _}from"./app-BB8Taarx.js";import{I as $}from"./IconSearch-koB9WXO6.js";import{U as F}from"./UserLayout-Bz5rVmn6.js";import{S as T,a as B,b as M,c as R,d as O}from"./select-DmOEgvSn.js";import{A as U,a as W,b as H,c as V}from"./accordion-CjKbnK8P.js";import{D as J,a as Q,b as Y,c as G,d as X,e as Z}from"./dialog-9v4R1AJE.js";import"./button-QDuAHMyz.js";import{C as q}from"./CustomPagination-CsHzH0ZP.js";import"./IconMenu3-BTKQI1BP.js";import"./createLucideIcon-DrCusl6h.js";import"./PrivacyPolicy-Dru8kFmo.js";import"./Logo-BpNM1hK5.js";import"./utils-BLGkF1hB.js";import"./index-Bs7o2za4.js";import"./index-BUiwTLBH.js";import"./IconProfile-kBQkEqAJ.js";import"./dropdown-menu-Dy6p5c79.js";import"./index-BfZGH5qb.js";import"./index-CNUql29i.js";import"./index-DeXzumii.js";import"./check-C-Fc7Jja.js";import"./index-BPFk63Uk.js";import"./index-DKiXb4V_.js";import"./pagination-BU4yxldL.js";function w({name:r,children:n,className:t}){return e.jsxs("div",{className:`flex flex-col space-y-1 w-full ${t}`,children:[e.jsx("span",{className:"text-sm",children:r}),n]})}function P({keywords:r,className:n,queryParameters:t}){c(r);function c(l){return l.sort((i,u)=>i.keyword.localeCompare(u.keyword))}const[a,h]=p.useState([]),[d,m]=p.useState([]);p.useEffect(()=>{o()},[]),p.useEffect(()=>{a.length!==0?t.keyword_filter=a:delete t.keyword_filter,j.get(route("organizations"),t,{preserveState:!0,preserveScroll:!0})},[d]);const[v,b]=p.useState(""),k=l=>{if(b(l.target.value),l.target.value===""||l.target.value===null){m(c(d));return}const i=d.filter(f=>f.keyword.toLowerCase().includes(l.target.value.toLowerCase())).sort((f,z)=>{const N=l.target.value.toLowerCase(),S=f.keyword.toLowerCase(),E=z.keyword.toLowerCase(),K=S.startsWith(N)?0:1,L=E.startsWith(N)?0:1;return K!==L?K-L:S.indexOf(N)-E.indexOf(N)||S.localeCompare(E)}),u=d.filter(f=>!f.keyword.toLowerCase().includes(l.target.value.toLowerCase())).sort((f,z)=>f.keyword.localeCompare(z.keyword));m([...i,...u])};p.useEffect(()=>{a.length!==0?g():delete t.keyword_filter},[a]);function g(){t.keyword_filter=null,t.keyword_filter=a,j.get(route("organizations"),t,{preserveState:!0,preserveScroll:!0})}const C=l=>{h(i=>[l,...i]),g(),m(i=>i.filter(u=>u.keyID!==l.keyID))},s=l=>{const i=[l,...d];m(c(i)),h(u=>u.filter(f=>f.keyID!==l.keyID)),g()},o=()=>{h([]),m(c(r)),b(""),delete t.keyword_filter,j.get(route("organizations"),t,{preserveState:!0,preserveScroll:!0})};return e.jsxs("div",{className:`w-full flex flex-wrap gap-2 max-h-20 min-h-12 border-[1px] rounded-md border-gray-500 p-2 relative text-xs overflow-clip group ${n} shadow-md`,children:[e.jsxs(J,{children:[e.jsx(Q,{className:"absolute size-full inset-0",children:e.jsxs("div",{className:"size-full flex items-center justify-center invisible group-hover:visible group-hover:!bg-gray-800/70 text-black/0 group-hover:!text-white transition-all duration-200 ease-in-out",children:[a&&"Edit"||"Add"," Keyword Filters"]})}),e.jsxs(Y,{className:"sm:max-w-[32rem] !h-fit max-h-[90%] w-[90%] sm:h-auto overflow-y-auto",children:[e.jsxs(G,{children:[e.jsx(X,{children:"Add/Remove Keyword Filters"}),e.jsx(Z,{children:"Filter organizations by adding or removing keywords. Save changes when you're done."})]}),e.jsxs("div",{className:"flex gap-x-3",children:[e.jsx("input",{className:"w-full rounded-md",type:"text",autoComplete:"off",placeholder:"Find Keywords...",name:"keyword_filter",onChange:k,value:v}),e.jsx("button",{onClick:o,className:"h-full px-3 border border-black rounded-md hover:bg-gray-800 hover:text-white transition-all",children:"Reset"})]}),e.jsxs("div",{className:"w-full flex flex-wrap justify-center sm:justify-start gap-2 border-[1px] rounded-md border-gray-800 p-2 relative text-xs overflow-clip",children:[a.length!==0&&a.map((l,i)=>e.jsx(y,{name:l.keyword,remove:!0,onClick:()=>s(l)},i)),a.length===0&&e.jsx("div",{className:"pl-1 h-8 flex items-center",children:"(No Keywords Selected)"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-arrow-up",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M12 5l0 14"}),e.jsx("path",{d:"M18 11l-6 -6"}),e.jsx("path",{d:"M6 11l6 -6"})]})}),e.jsxs("div",{className:"w-full flex flex-wrap justify-center sm:justify-start gap-2 border-[1px] rounded-md border-gray-300 p-2 relative text-xs",children:[d.map((l,i)=>e.jsx(y,{name:l.keyword,add:!0,onClick:()=>C(l)},i)),d.length===0&&e.jsx("span",{className:"italic text-slate-400",children:"No organization has set any keywords currently."})]})]})]}),a.length!==0?a.map((l,i)=>e.jsx(x,{name:l.keyword},i)):e.jsx("div",{className:"text-gray-500 h-full flex items-center",children:"Filter by Keywords"})]});function x({name:l}){return e.jsx("div",{className:"w-min px-2 py-1 bg-[#ffb700] border border-gray-300 h-fit rounded-md cursor-pointer",children:l})}function y({name:l,remove:i,add:u,...f}){return e.jsxs("button",{...f,className:`select-none w-min px-2 py-1 ${u&&"bg-gray-200"} ${i&&"bg-[#ffb700]"} border border-gray-300 h-8 rounded-md space-x-2 flex items-center ${u&&"hover:bg-gray-300"} ${i&&"hover:bg-[#e6a70b]"} group`,children:[e.jsx("span",{className:"whitespace-nowrap",children:l}),e.jsxs("div",{className:"h-5 aspect-square text-gray-400",children:[i&&e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-circle-x text-black/70",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z"})]}),u&&e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-circle-plus",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M4.929 4.929a10 10 0 1 1 14.141 14.141a10 10 0 0 1 -14.14 -14.14zm8.071 4.071a1 1 0 1 0 -2 0v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0 -2h-2v-2z"})]})]})]})}}function ee({active:r=!1}){if(r)return e.jsx("div",{className:"w-full h-full items-center flex justify-center",children:e.jsx("div",{className:"dot-flashing"})})}function D({div:r,img:n,...t}){const[c,a]=p.useState(!0);return e.jsxs("div",{...t,...r,className:`${t==null?void 0:t.className} ${r==null?void 0:r.className}`,children:[e.jsx(ee,{active:c}),e.jsx("img",{...t,...n,className:`${t==null?void 0:t.className} ${n==null?void 0:n.className} ${c&&"hidden"}`,onLoad:()=>a(!1)})]})}function A({icon:r,title:n,isAdmin:t,isSuperAdmin:c,link:a,visibility:h}){return e.jsx(I,{href:a,className:"bg-transparent text-black transition-all duration-100 ease-in-out hover:bg-gray-800 hover:text-white p-2 rounded-xl",children:e.jsxs("li",{className:"flex items-center space-x-3 poppins",children:[e.jsx(D,{src:r,className:"size-10 rounded-full aspect-square",img:{className:"object-cover"}}),e.jsx("label",{className:"cursor-pointer flex-1 text-sm font-bold line-clamp-2 leading-4",children:n}),e.jsxs("div",{className:"flex flex-col gap-y-1 items-center",children:[(t||c)&&e.jsx(d,{className:"bg-red-600",children:t&&"Admin"||c&&"S.Admin"}),!h&&e.jsx(d,{className:"bg-slate-600",children:"Hidden"})]})]})});function d({children:m,className:v}){return e.jsx("label",{className:`cursor-pointer text-white text-[0.6rem] w-fit px-[0.35rem] rounded-full ${v}`,children:m})}}function te({children:r,title:n}){return e.jsxs("div",{className:"flex flex-col w-full gap-y-3 border-[1px] border-slate-400 overflow-visible p-2 rounded-lg",children:[e.jsx("div",{className:"questrial font-bold tracking-wider text-sm md:text-base justify-between w-fit px-2 -mb-3 -mt-4 md:-mt-5 ml-2 bg-[#EEEEEE]",children:n}),e.jsx("div",{className:"flex flex-wrap w-full",children:r})]})}function se({orgBg:r,orgIcon:n,title:t,desc:c,count:a,recruiting:h,href:d,className:m}){return p.useRef(null),e.jsxs(I,{href:d,className:`w-min space-y-2 hover:cursor-pointer group p-3 hover:scale-[1.06] flex flex-col justify-center items-center transition-all duration-300 ease-in-out transOptimize h-max select-none ${m}`,children:[e.jsxs("div",{className:"h-52 md:h-72 aspect-[5/8] relative",children:[e.jsx(D,{className:"h-full aspect-[5/8] rounded-lg",img:{src:r,className:"object-cover"}}),h&&e.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-3 text-[0.6rem] px-2 py-[0.15rem] rounded-[0.25rem] bg-[#EF9B1E]/90 inter font-extrabold text-white shadow-sm shadow-black/50",children:"Now Recruiting"}),e.jsx(D,{className:"size-14 aspect-square rounded-full",div:{className:"absolute size-14 right-2 bottom-2 bg-[#EEEEEE] overflow-hidden"},img:{className:"object-cover",src:n}}),e.jsxs("div",{className:"transition-all hidden md:flex flex-col justify-center duration-200 ease-in-out absolute inset-0 bg-black/0 overflow-y-auto group-hover:bg-black/70 invisible group-hover:visible group-hover:delay-100 rounded-lg text-white/0 group-hover:text-white/100 p-3 tracking-wide transOptimize",children:[e.jsx("p",{className:"poppins tracking-normal md:tracking-wide text-sm md:text-lg",children:t}),e.jsx("p",{className:"quicksand font-extralight text-sm overflow-hidden overflow-ellipsis",children:c})]})]}),e.jsxs("div",{className:"space-y-1 w-full",children:[e.jsx("div",{className:"w-full line-clamp-2 poppins text-sm font-bold tracking-wide",children:t}),e.jsx("div",{className:"w-full text-xs line-clamp-2",children:c}),e.jsxs("div",{className:"w-full text-xs line-clamp-1 text-gray-600 truncate",children:[a," Members"]})]})]})}function Se({organizations:r,recommendedOrganizations:n,queryParameters:t=null,departments:c,keywords:a,myMemberOrganizations:h}){t=t||{};const d=["search","department","keyword_filter[0][keyID]","keyword_filter[1][keyword]"].some(s=>new URLSearchParams(window.location.search).has(s)),[m,v]=p.useState([]);p.useEffect(()=>{v(r.data||r)},[r]);const b=s=>{const o=setTimeout(()=>{s.target.value!==""?t.search=s.target.value:delete t.search,j.get(route("organizations"),t,{preserveState:!0,preserveScroll:!0})},500);return()=>clearTimeout(o)},k=s=>{const o=setTimeout(()=>{s!=="All"?t.department=s:delete t.department,j.get(route("organizations"),t,{preserveState:!0,preserveScroll:!0})},500);return()=>clearTimeout(o)},g=(s,o)=>{switch(s){case"student":return route("organizations.home",o);case"admin":return route("admin.editpage",o)}},C=()=>{j.get(route("organizations"))};return e.jsxs("div",{className:"w-full relative",children:[e.jsx(_,{title:"Browse Organizations"}),e.jsxs(F,{children:[e.jsxs("div",{className:"w-full poppins text-lg md:text-xl font-bold mt-3 mb-5",children:["Browse ",e.jsx("span",{className:"text-[#ffb700]",children:"Organizations"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 ",children:[e.jsxs("div",{className:"flex flex-col w-full md:w-64 space-y-2",children:[e.jsxs(w,{className:"relative",name:"Search",children:[e.jsx("input",{type:"text",className:"peer p-3 bg-transparent outline-gray-800 text-gray-600 focus:text-black rounded-lg border-gray-500 h-11 pl-10 focus:pl-3 transition-all duration-200 shadow-md",defaultValue:t.search||"",onChange:b,placeholder:"Dept./Organization"}),e.jsx("div",{className:"absolute text-gray-500 left-0 bottom-0 h-11 flex items-center justify-center w-12 peer-focus:w-0 overflow-hidden transition-all duration-200 peer-focus:text-gray-500/0",children:e.jsx($,{size:"22"})})]}),e.jsx(w,{name:"Keywords",children:e.jsx(P,{keywords:a,queryParameters:t})}),e.jsx(w,{name:"Department",children:e.jsxs(T,{defaultValue:"All",onValueChange:k,children:[e.jsx(B,{className:"w-full h-12 border-gray-500 bg-transparent shadow-md",children:e.jsx(M,{placeholder:"All"})}),e.jsxs(R,{className:"border-gray-500 bg-[#EEEEEE] quicksand",children:[e.jsx(O,{value:"All",className:"hover:!bg-gray-800 hover:!text-white focus:!bg-gray-800 focus:!text-white h-10",children:"All"}),c.map((s,o)=>e.jsx(O,{value:s,onClick:x=>x.stopPropagation(),className:"hover:!bg-gray-800 hover:!text-white focus:!bg-gray-800 focus:!text-white h-10",children:s},o))]})]})}),e.jsx(w,{className:` items-center !mt-3 ${Object.keys(t).length!==0?"flex":"hidden"}`,children:e.jsx("button",{className:"w-fit px-3 py-1 bg-[#ffb700] hover:bg-[#f1ad00] rounded-lg text-sm",onClick:C,children:"Clear All"})}),h.length!==0&&e.jsx(w,{name:"Organizations you've joined:",className:"!hidden md:!flex",children:e.jsx("ul",{className:"bg-transparent flex flex-col pt-2 rounded-md space-y-1",children:Object.values(h).map((s,o)=>e.jsx(A,{visibility:s.visibility,icon:s.logoUrl,title:s.name,isAdmin:s.role_description==="admin",link:g(s.role_description,s.orgID)},o))})}),e.jsx(U,{type:"single",collapsible:!0,children:e.jsxs(W,{value:"item-1",children:[e.jsx(H,{className:"text-left flex md:hidden",children:e.jsx(w,{name:"Organizations you've joined:"})}),e.jsx(V,{children:e.jsx("ul",{className:"bg-transparent flex flex-col pt-2 rounded-md space-y-1",children:Object.values(h).map((s,o)=>e.jsx(A,{visibility:s.visibility,icon:s.logoUrl,title:s.name,isAdmin:s.role_description==="admin",link:g(s.role_description,s.orgID)},o))})})]})})]}),e.jsxs("div",{className:"md:flex-1 flex flex-col gap-y-7 overflow-x-hidden pt-5",children:[t&&r.length===0&&e.jsx("div",{className:"w-full flex justify-center font-bold text-gray-400",children:"No Organizations Found"}),Object.entries(m).map(([s,o])=>e.jsx(te,{title:s,children:o.map((x,y)=>e.jsx(se,{orgBg:x.photos&&x.photos.length>0?x.photos[0].Url:"https://placehold.co/500x800",orgIcon:x.logoUrl,title:x.name,recruiting:x.recruiting,desc:x.description,count:x.members_count,href:route("organizations.home",{orgID:x.orgID})},y))},s))]})]})]}),!d&&e.jsx("div",{className:"absolute bottom-5 left-5 md:left-64 right-5 flex justify-center",children:e.jsx(q,{page:r,preserveScroll:!1})})]})}export{Se as default};

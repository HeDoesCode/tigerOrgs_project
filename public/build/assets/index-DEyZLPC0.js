import{r as R,j as h,R as S}from"./app-CQ1v4CXz.js";import{d as y,S as E,P as N}from"./utils-aYM5bCtc.js";function P(e,r=[]){let u=[];function M(s,o){const n=R.createContext(o),i=u.length;u=[...u,o];function x(f){const{scope:a,children:c,...t}=f,m=(a==null?void 0:a[e][i])||n,l=R.useMemo(()=>t,Object.values(t));return h.jsx(m.Provider,{value:l,children:c})}function v(f,a){const c=(a==null?void 0:a[e][i])||n,t=R.useContext(c);if(t)return t;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return x.displayName=s+"Provider",[x,v]}const d=()=>{const s=u.map(o=>R.createContext(o));return function(n){const i=(n==null?void 0:n[e])||s;return R.useMemo(()=>({[`__scope${e}`]:{...n,[e]:i}}),[n,i])}};return d.scopeName=e,[M,A(d,...r)]}function A(...e){const r=e[0];if(e.length===1)return r;const u=()=>{const M=e.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(s){const o=M.reduce((n,{useScope:i,scopeName:x})=>{const f=i(s)[`__scope${x}`];return{...n,...f}},{});return R.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return u.scopeName=r.scopeName,u}function b(e){const r=e+"CollectionProvider",[u,M]=P(r),[d,s]=u(r,{collectionRef:{current:null},itemMap:new Map}),o=c=>{const{scope:t,children:m}=c,l=S.useRef(null),p=S.useRef(new Map).current;return h.jsx(d,{scope:t,itemMap:p,collectionRef:l,children:m})};o.displayName=r;const n=e+"CollectionSlot",i=S.forwardRef((c,t)=>{const{scope:m,children:l}=c,p=s(n,m),C=y(t,p.collectionRef);return h.jsx(E,{ref:C,children:l})});i.displayName=n;const x=e+"CollectionItemSlot",v="data-radix-collection-item",f=S.forwardRef((c,t)=>{const{scope:m,children:l,...p}=c,C=S.useRef(null),_=y(t,C),w=s(x,m);return S.useEffect(()=>(w.itemMap.set(C,{ref:C,...p}),()=>void w.itemMap.delete(C))),h.jsx(E,{[v]:"",ref:_,children:l})});f.displayName=x;function a(c){const t=s(e+"CollectionConsumer",c);return S.useCallback(()=>{const l=t.collectionRef.current;if(!l)return[];const p=Array.from(l.querySelectorAll(`[${v}]`));return Array.from(t.itemMap.values()).sort((w,I)=>p.indexOf(w.ref.current)-p.indexOf(I.ref.current))},[t.collectionRef,t.itemMap])}return[{Provider:o,Slot:i,ItemSlot:f},a,M]}var j="VisuallyHidden",O=R.forwardRef((e,r)=>h.jsx(N.span,{...e,ref:r,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));O.displayName=j;export{O as V,b as c};

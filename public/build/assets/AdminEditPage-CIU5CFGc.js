import{r as o,$ as Ft,a as it,b as _t,j as t,q as Ut,Y as Bt,R as zt,W as Kt}from"./app-Di5jCkbX.js";import{A as Wt}from"./AdminLayout-DTwiLlAE.js";import{M as qt}from"./MainAdminFrame-C3adAJq0.js";import{I as Ht}from"./IconInvite-Bt0jMWre.js";import{H as Vt,I as Yt,a as Xt,b as Gt,c as Zt}from"./Home-Q7aiiyHx.js";import{I as Jt}from"./IconEdit-BPv5WCXn.js";import{E as H,R as Qt}from"./index-C8yHFY2W.js";import{I as er}from"./IconMailFilled-0OtLMR3u.js";import{I as tr}from"./IconMenu3-DQkcTxpN.js";import{D as rr,a as nr,b as or,c as ar,d as sr,e as lr,f as oe}from"./dropdown-menu-DHZQyps9.js";import{D as Ue,a as dt,b as Be,c as ze,d as Ke,e as We,f as cr,g as ut}from"./dialog-FsAMnrsi.js";import{c as ir,_ as dr,u as ur,a as le,f as fr,z as mr,s as hr,b as pr,R as gr,e as vr,h as br}from"./index-CGe4eDPI.js";import{c as de}from"./utils-Cn3bnAQX.js";import{c as xr}from"./createLucideIcon-CSTqiPN8.js";import{B as wr}from"./button-D4FZ8JsV.js";import{C as yr}from"./index-BkVxCFWI.js";import"./OrganizationLayout-B8jrS6C-.js";import"./UserLayout-B19gmgMo.js";import"./IconProfile-BdCNl9op.js";import"./index-A_ToIbX2.js";import"./Logo-CxPrJZ-c.js";import"./index-CW3DPLXQ.js";import"./index-D7u7cSh2.js";/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=xr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var Ye=1,$r=.9,Er=.8,Cr=.17,Ee=.1,Ce=.999,Nr=.9999,kr=.99,Sr=/[\\\/_+.#"@\[\(\{&]/,Pr=/[\\\/_+.#"@\[\(\{&]/g,Dr=/[\s-]/,ft=/[\s-]/g;function Oe(e,r,n,a,s,l,i){if(l===r.length)return s===e.length?Ye:kr;var c=`${s},${l}`;if(i[c]!==void 0)return i[c];for(var u=a.charAt(l),f=n.indexOf(u,s),m=0,g,A,C,F;f>=0;)g=Oe(e,r,n,a,f+1,l+1,i),g>m&&(f===s?g*=Ye:Sr.test(e.charAt(f-1))?(g*=Er,C=e.slice(s,f-1).match(Pr),C&&s>0&&(g*=Math.pow(Ce,C.length))):Dr.test(e.charAt(f-1))?(g*=$r,F=e.slice(s,f-1).match(ft),F&&s>0&&(g*=Math.pow(Ce,F.length))):(g*=Cr,s>0&&(g*=Math.pow(Ce,f-s))),e.charAt(f)!==r.charAt(l)&&(g*=Nr)),(g<Ee&&n.charAt(f-1)===a.charAt(l+1)||a.charAt(l+1)===a.charAt(l)&&n.charAt(f-1)!==a.charAt(l))&&(A=Oe(e,r,n,a,f+1,l+2,i),A*Ee>g&&(g=A*Ee)),g>m&&(m=g),f=n.indexOf(u,f+1);return i[c]=m,m}function Xe(e){return e.toLowerCase().replace(ft," ")}function Rr(e,r,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Oe(e,r,Xe(e),Xe(r),0,0,{})}function V(){return V=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},V.apply(null,arguments)}function ie(e,r,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function Ir(e,r){typeof e=="function"?e(r):e!=null&&(e.current=r)}function mt(...e){return r=>e.forEach(n=>Ir(n,r))}function he(...e){return o.useCallback(mt(...e),e)}function Or(e,r=[]){let n=[];function a(l,i){const c=o.createContext(i),u=n.length;n=[...n,i];function f(g){const{scope:A,children:C,...F}=g,y=(A==null?void 0:A[e][u])||c,S=o.useMemo(()=>F,Object.values(F));return o.createElement(y.Provider,{value:S},C)}function m(g,A){const C=(A==null?void 0:A[e][u])||c,F=o.useContext(C);if(F)return F;if(i!==void 0)return i;throw new Error(`\`${g}\` must be used within \`${l}\``)}return f.displayName=l+"Provider",[f,m]}const s=()=>{const l=n.map(i=>o.createContext(i));return function(c){const u=(c==null?void 0:c[e])||l;return o.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return s.scopeName=e,[a,Ar(s,...r)]}function Ar(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const i=a.reduce((c,{useScope:u,scopeName:f})=>{const g=u(l)[`__scope${f}`];return{...c,...g}},{});return o.useMemo(()=>({[`__scope${r.scopeName}`]:i}),[i])}};return n.scopeName=r.scopeName,n}const Ae=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},Lr=Ft.useId||(()=>{});let Mr=0;function Ne(e){const[r,n]=o.useState(Lr());return Ae(()=>{e||n(a=>a??String(Mr++))},[e]),e||(r?`radix-${r}`:"")}function ee(e){const r=o.useRef(e);return o.useEffect(()=>{r.current=e}),o.useMemo(()=>(...n)=>{var a;return(a=r.current)===null||a===void 0?void 0:a.call(r,...n)},[])}function Tr({prop:e,defaultProp:r,onChange:n=()=>{}}){const[a,s]=Fr({defaultProp:r,onChange:n}),l=e!==void 0,i=l?e:a,c=ee(n),u=o.useCallback(f=>{if(l){const g=typeof f=="function"?f(e):f;g!==e&&c(g)}else s(f)},[l,e,s,c]);return[i,u]}function Fr({defaultProp:e,onChange:r}){const n=o.useState(e),[a]=n,s=o.useRef(a),l=ee(r);return o.useEffect(()=>{s.current!==a&&(l(a),s.current=a)},[a,s,l]),n}const qe=o.forwardRef((e,r)=>{const{children:n,...a}=e,s=o.Children.toArray(n),l=s.find(Ur);if(l){const i=l.props.children,c=s.map(u=>u===l?o.Children.count(i)>1?o.Children.only(null):o.isValidElement(i)?i.props.children:null:u);return o.createElement(Le,V({},a,{ref:r}),o.isValidElement(i)?o.cloneElement(i,void 0,c):null)}return o.createElement(Le,V({},a,{ref:r}),n)});qe.displayName="Slot";const Le=o.forwardRef((e,r)=>{const{children:n,...a}=e;return o.isValidElement(n)?o.cloneElement(n,{...Br(a,n.props),ref:r?mt(r,n.ref):n.ref}):o.Children.count(n)>1?o.Children.only(null):null});Le.displayName="SlotClone";const _r=({children:e})=>o.createElement(o.Fragment,null,e);function Ur(e){return o.isValidElement(e)&&e.type===_r}function Br(e,r){const n={...r};for(const a in r){const s=e[a],l=r[a];/^on[A-Z]/.test(a)?s&&l?n[a]=(...c)=>{l(...c),s(...c)}:s&&(n[a]=s):a==="style"?n[a]={...s,...l}:a==="className"&&(n[a]=[s,l].filter(Boolean).join(" "))}return{...e,...n}}const zr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],G=zr.reduce((e,r)=>{const n=o.forwardRef((a,s)=>{const{asChild:l,...i}=a,c=l?qe:r;return o.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),o.createElement(c,V({},i,{ref:s}))});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{});function Kr(e,r){e&&it.flushSync(()=>e.dispatchEvent(r))}function Wr(e,r=globalThis==null?void 0:globalThis.document){const n=ee(e);o.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return r.addEventListener("keydown",a),()=>r.removeEventListener("keydown",a)},[n,r])}const Me="dismissableLayer.update",qr="dismissableLayer.pointerDownOutside",Hr="dismissableLayer.focusOutside";let Ge;const Vr=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yr=o.forwardRef((e,r)=>{var n;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:i,onInteractOutside:c,onDismiss:u,...f}=e,m=o.useContext(Vr),[g,A]=o.useState(null),C=(n=g==null?void 0:g.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,F]=o.useState({}),y=he(r,b=>A(b)),S=Array.from(m.layers),[M]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),B=S.indexOf(M),$=g?S.indexOf(g):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,O=$>=B,v=Xr(b=>{const P=b.target,_=[...m.branches].some(k=>k.contains(P));!O||_||(l==null||l(b),c==null||c(b),b.defaultPrevented||u==null||u())},C),x=Gr(b=>{const P=b.target;[...m.branches].some(k=>k.contains(P))||(i==null||i(b),c==null||c(b),b.defaultPrevented||u==null||u())},C);return Wr(b=>{$===m.layers.size-1&&(s==null||s(b),!b.defaultPrevented&&u&&(b.preventDefault(),u()))},C),o.useEffect(()=>{if(g)return a&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Ge=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Ze(),()=>{a&&m.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=Ge)}},[g,C,a,m]),o.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Ze())},[g,m]),o.useEffect(()=>{const b=()=>F({});return document.addEventListener(Me,b),()=>document.removeEventListener(Me,b)},[]),o.createElement(G.div,V({},f,{ref:y,style:{pointerEvents:N?O?"auto":"none":void 0,...e.style},onFocusCapture:ie(e.onFocusCapture,x.onFocusCapture),onBlurCapture:ie(e.onBlurCapture,x.onBlurCapture),onPointerDownCapture:ie(e.onPointerDownCapture,v.onPointerDownCapture)}))});function Xr(e,r=globalThis==null?void 0:globalThis.document){const n=ee(e),a=o.useRef(!1),s=o.useRef(()=>{});return o.useEffect(()=>{const l=c=>{if(c.target&&!a.current){let f=function(){ht(qr,n,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=f,r.addEventListener("click",s.current,{once:!0})):f()}else r.removeEventListener("click",s.current);a.current=!1},i=window.setTimeout(()=>{r.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(i),r.removeEventListener("pointerdown",l),r.removeEventListener("click",s.current)}},[r,n]),{onPointerDownCapture:()=>a.current=!0}}function Gr(e,r=globalThis==null?void 0:globalThis.document){const n=ee(e),a=o.useRef(!1);return o.useEffect(()=>{const s=l=>{l.target&&!a.current&&ht(Hr,n,{originalEvent:l},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Ze(){const e=new CustomEvent(Me);document.dispatchEvent(e)}function ht(e,r,n,{discrete:a}){const s=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&s.addEventListener(e,r,{once:!0}),a?Kr(s,l):s.dispatchEvent(l)}const ke="focusScope.autoFocusOnMount",Se="focusScope.autoFocusOnUnmount",Je={bubbles:!1,cancelable:!0},Zr=o.forwardRef((e,r)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...i}=e,[c,u]=o.useState(null),f=ee(s),m=ee(l),g=o.useRef(null),A=he(r,y=>u(y)),C=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(a){let y=function($){if(C.paused||!c)return;const N=$.target;c.contains(N)?g.current=N:Z(g.current,{select:!0})},S=function($){if(C.paused||!c)return;const N=$.relatedTarget;N!==null&&(c.contains(N)||Z(g.current,{select:!0}))},M=function($){if(document.activeElement===document.body)for(const O of $)O.removedNodes.length>0&&Z(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const B=new MutationObserver(M);return c&&B.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),B.disconnect()}}},[a,c,C.paused]),o.useEffect(()=>{if(c){et.add(C);const y=document.activeElement;if(!c.contains(y)){const M=new CustomEvent(ke,Je);c.addEventListener(ke,f),c.dispatchEvent(M),M.defaultPrevented||(Jr(nn(pt(c)),{select:!0}),document.activeElement===y&&Z(c))}return()=>{c.removeEventListener(ke,f),setTimeout(()=>{const M=new CustomEvent(Se,Je);c.addEventListener(Se,m),c.dispatchEvent(M),M.defaultPrevented||Z(y??document.body,{select:!0}),c.removeEventListener(Se,m),et.remove(C)},0)}}},[c,f,m,C]);const F=o.useCallback(y=>{if(!n&&!a||C.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,M=document.activeElement;if(S&&M){const B=y.currentTarget,[$,N]=Qr(B);$&&N?!y.shiftKey&&M===N?(y.preventDefault(),n&&Z($,{select:!0})):y.shiftKey&&M===$&&(y.preventDefault(),n&&Z(N,{select:!0})):M===B&&y.preventDefault()}},[n,a,C.paused]);return o.createElement(G.div,V({tabIndex:-1},i,{ref:A,onKeyDown:F}))});function Jr(e,{select:r=!1}={}){const n=document.activeElement;for(const a of e)if(Z(a,{select:r}),document.activeElement!==n)return}function Qr(e){const r=pt(e),n=Qe(r,e),a=Qe(r.reverse(),e);return[n,a]}function pt(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function Qe(e,r){for(const n of e)if(!en(n,{upTo:r}))return n}function en(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tn(e){return e instanceof HTMLInputElement&&"select"in e}function Z(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&tn(e)&&r&&e.select()}}const et=rn();function rn(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=tt(e,r),e.unshift(r)},remove(r){var n;e=tt(e,r),(n=e[0])===null||n===void 0||n.resume()}}}function tt(e,r){const n=[...e],a=n.indexOf(r);return a!==-1&&n.splice(a,1),n}function nn(e){return e.filter(r=>r.tagName!=="A")}const on=o.forwardRef((e,r)=>{var n;const{container:a=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=e;return a?_t.createPortal(o.createElement(G.div,V({},s,{ref:r})),a):null});function an(e,r){return o.useReducer((n,a)=>{const s=r[n][a];return s??n},e)}const ye=e=>{const{present:r,children:n}=e,a=sn(r),s=typeof n=="function"?n({present:a.isPresent}):o.Children.only(n),l=he(a.ref,s.ref);return typeof n=="function"||a.isPresent?o.cloneElement(s,{ref:l}):null};ye.displayName="Presence";function sn(e){const[r,n]=o.useState(),a=o.useRef({}),s=o.useRef(e),l=o.useRef("none"),i=e?"mounted":"unmounted",[c,u]=an(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const f=ve(a.current);l.current=c==="mounted"?f:"none"},[c]),Ae(()=>{const f=a.current,m=s.current;if(m!==e){const A=l.current,C=ve(f);e?u("MOUNT"):C==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(m&&A!==C?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Ae(()=>{if(r){const f=g=>{const C=ve(a.current).includes(g.animationName);g.target===r&&C&&it.flushSync(()=>u("ANIMATION_END"))},m=g=>{g.target===r&&(l.current=ve(a.current))};return r.addEventListener("animationstart",m),r.addEventListener("animationcancel",f),r.addEventListener("animationend",f),()=>{r.removeEventListener("animationstart",m),r.removeEventListener("animationcancel",f),r.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[r,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(f=>{f&&(a.current=getComputedStyle(f)),n(f)},[])}}function ve(e){return(e==null?void 0:e.animationName)||"none"}let Pe=0;function ln(){o.useEffect(()=>{var e,r;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:rt()),document.body.insertAdjacentElement("beforeend",(r=n[1])!==null&&r!==void 0?r:rt()),Pe++,()=>{Pe===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Pe--}},[])}function rt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var gt=ir(),De=function(){},je=o.forwardRef(function(e,r){var n=o.useRef(null),a=o.useState({onScrollCapture:De,onWheelCapture:De,onTouchMoveCapture:De}),s=a[0],l=a[1],i=e.forwardProps,c=e.children,u=e.className,f=e.removeScrollBar,m=e.enabled,g=e.shards,A=e.sideCar,C=e.noIsolation,F=e.inert,y=e.allowPinchZoom,S=e.as,M=S===void 0?"div":S,B=dr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),$=A,N=ur([n,r]),O=le(le({},B),s);return o.createElement(o.Fragment,null,m&&o.createElement($,{sideCar:gt,removeScrollBar:f,shards:g,noIsolation:C,inert:F,setCallbacks:l,allowPinchZoom:!!y,lockRef:n}),i?o.cloneElement(o.Children.only(c),le(le({},O),{ref:N})):o.createElement(M,le({},O,{className:u,ref:N}),c))});je.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};je.classNames={fullWidth:fr,zeroRight:mr};var Te=!1;if(typeof window<"u")try{var be=Object.defineProperty({},"passive",{get:function(){return Te=!0,!0}});window.addEventListener("test",be,be),window.removeEventListener("test",be,be)}catch{Te=!1}var ae=Te?{passive:!1}:!1,cn=function(e){return e.tagName==="TEXTAREA"},vt=function(e,r){var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!cn(e)&&n[r]==="visible")},dn=function(e){return vt(e,"overflowY")},un=function(e){return vt(e,"overflowX")},nt=function(e,r){var n=r;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=bt(e,n);if(a){var s=xt(e,n),l=s[1],i=s[2];if(l>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},fn=function(e){var r=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[r,n,a]},mn=function(e){var r=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[r,n,a]},bt=function(e,r){return e==="v"?dn(r):un(r)},xt=function(e,r){return e==="v"?fn(r):mn(r)},hn=function(e,r){return e==="h"&&r==="rtl"?-1:1},pn=function(e,r,n,a,s){var l=hn(e,window.getComputedStyle(r).direction),i=l*a,c=n.target,u=r.contains(c),f=!1,m=i>0,g=0,A=0;do{var C=xt(e,c),F=C[0],y=C[1],S=C[2],M=y-S-l*F;(F||M)&&bt(e,c)&&(g+=M,A+=F),c=c.parentNode}while(!u&&c!==document.body||u&&(r.contains(c)||r===c));return(m&&(g===0||!s)||!m&&(A===0||!s))&&(f=!0),f},xe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ot=function(e){return[e.deltaX,e.deltaY]},at=function(e){return e&&"current"in e?e.current:e},gn=function(e,r){return e[0]===r[0]&&e[1]===r[1]},vn=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bn=0,se=[];function xn(e){var r=o.useRef([]),n=o.useRef([0,0]),a=o.useRef(),s=o.useState(bn++)[0],l=o.useState(function(){return hr()})[0],i=o.useRef(e);o.useEffect(function(){i.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=pr([e.lockRef.current],(e.shards||[]).map(at),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(y,S){if("touches"in y&&y.touches.length===2)return!i.current.allowPinchZoom;var M=xe(y),B=n.current,$="deltaX"in y?y.deltaX:B[0]-M[0],N="deltaY"in y?y.deltaY:B[1]-M[1],O,v=y.target,x=Math.abs($)>Math.abs(N)?"h":"v";if("touches"in y&&x==="h"&&v.type==="range")return!1;var b=nt(x,v);if(!b)return!0;if(b?O=x:(O=x==="v"?"h":"v",b=nt(x,v)),!b)return!1;if(!a.current&&"changedTouches"in y&&($||N)&&(a.current=O),!O)return!0;var P=a.current||O;return pn(P,S,y,P==="h"?$:N,!0)},[]),u=o.useCallback(function(y){var S=y;if(!(!se.length||se[se.length-1]!==l)){var M="deltaY"in S?ot(S):xe(S),B=r.current.filter(function(O){return O.name===S.type&&O.target===S.target&&gn(O.delta,M)})[0];if(B&&B.should){S.cancelable&&S.preventDefault();return}if(!B){var $=(i.current.shards||[]).map(at).filter(Boolean).filter(function(O){return O.contains(S.target)}),N=$.length>0?c(S,$[0]):!i.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),f=o.useCallback(function(y,S,M,B){var $={name:y,delta:S,target:M,should:B};r.current.push($),setTimeout(function(){r.current=r.current.filter(function(N){return N!==$})},1)},[]),m=o.useCallback(function(y){n.current=xe(y),a.current=void 0},[]),g=o.useCallback(function(y){f(y.type,ot(y),y.target,c(y,e.lockRef.current))},[]),A=o.useCallback(function(y){f(y.type,xe(y),y.target,c(y,e.lockRef.current))},[]);o.useEffect(function(){return se.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:A}),document.addEventListener("wheel",u,ae),document.addEventListener("touchmove",u,ae),document.addEventListener("touchstart",m,ae),function(){se=se.filter(function(y){return y!==l}),document.removeEventListener("wheel",u,ae),document.removeEventListener("touchmove",u,ae),document.removeEventListener("touchstart",m,ae)}},[]);var C=e.removeScrollBar,F=e.inert;return o.createElement(o.Fragment,null,F?o.createElement(l,{styles:vn(s)}):null,C?o.createElement(gr,{gapMode:"margin"}):null)}const wn=vr(gt,xn);var wt=o.forwardRef(function(e,r){return o.createElement(je,le({},e,{ref:r,sideCar:wn}))});wt.classNames=je.classNames;const yt="Dialog",[jt,jo]=Or(yt),[yn,ne]=jt(yt),jn=e=>{const{__scopeDialog:r,children:n,open:a,defaultOpen:s,onOpenChange:l,modal:i=!0}=e,c=o.useRef(null),u=o.useRef(null),[f=!1,m]=Tr({prop:a,defaultProp:s,onChange:l});return o.createElement(yn,{scope:r,triggerRef:c,contentRef:u,contentId:Ne(),titleId:Ne(),descriptionId:Ne(),open:f,onOpenChange:m,onOpenToggle:o.useCallback(()=>m(g=>!g),[m]),modal:i},n)},$t="DialogPortal",[$n,Et]=jt($t,{forceMount:void 0}),En=e=>{const{__scopeDialog:r,forceMount:n,children:a,container:s}=e,l=ne($t,r);return o.createElement($n,{scope:r,forceMount:n},o.Children.map(a,i=>o.createElement(ye,{present:n||l.open},o.createElement(on,{asChild:!0,container:s},i))))},Fe="DialogOverlay",Cn=o.forwardRef((e,r)=>{const n=Et(Fe,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,l=ne(Fe,e.__scopeDialog);return l.modal?o.createElement(ye,{present:a||l.open},o.createElement(Nn,V({},s,{ref:r}))):null}),Nn=o.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=ne(Fe,n);return o.createElement(wt,{as:qe,allowPinchZoom:!0,shards:[s.contentRef]},o.createElement(G.div,V({"data-state":Nt(s.open)},a,{ref:r,style:{pointerEvents:"auto",...a.style}})))}),fe="DialogContent",kn=o.forwardRef((e,r)=>{const n=Et(fe,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,l=ne(fe,e.__scopeDialog);return o.createElement(ye,{present:a||l.open},l.modal?o.createElement(Sn,V({},s,{ref:r})):o.createElement(Pn,V({},s,{ref:r})))}),Sn=o.forwardRef((e,r)=>{const n=ne(fe,e.__scopeDialog),a=o.useRef(null),s=he(r,n.contentRef,a);return o.useEffect(()=>{const l=a.current;if(l)return br(l)},[]),o.createElement(Ct,V({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:ie(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&l.preventDefault()}),onFocusOutside:ie(e.onFocusOutside,l=>l.preventDefault())}))}),Pn=o.forwardRef((e,r)=>{const n=ne(fe,e.__scopeDialog),a=o.useRef(!1),s=o.useRef(!1);return o.createElement(Ct,V({},e,{ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,l),!l.defaultPrevented){var c;a.current||(c=n.triggerRef.current)===null||c===void 0||c.focus(),l.preventDefault()}a.current=!1,s.current=!1},onInteractOutside:l=>{var i,c;(i=e.onInteractOutside)===null||i===void 0||i.call(e,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=l.target;((c=n.triggerRef.current)===null||c===void 0?void 0:c.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}}))}),Ct=o.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l,...i}=e,c=ne(fe,n),u=o.useRef(null),f=he(r,u);return ln(),o.createElement(o.Fragment,null,o.createElement(Zr,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:l},o.createElement(Yr,V({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Nt(c.open)},i,{ref:f,onDismiss:()=>c.onOpenChange(!1)}))),!1)});function Nt(e){return e?"open":"closed"}const Dn=jn,Rn=En,In=Cn,On=kn;var ue='[cmdk-group=""]',Re='[cmdk-group-items=""]',An='[cmdk-group-heading=""]',He='[cmdk-item=""]',st=`${He}:not([aria-disabled="true"])`,_e="cmdk-item-select",Q="data-value",Ln=(e,r,n)=>Rr(e,r,n),kt=o.createContext(void 0),pe=()=>o.useContext(kt),St=o.createContext(void 0),Ve=()=>o.useContext(St),Pt=o.createContext(void 0),Dt=o.forwardRef((e,r)=>{let n=ce(()=>{var d,R;return{search:"",value:(R=(d=e.value)!=null?d:e.defaultValue)!=null?R:"",filtered:{count:0,items:new Map,groups:new Set}}}),a=ce(()=>new Set),s=ce(()=>new Map),l=ce(()=>new Map),i=ce(()=>new Set),c=Rt(e),{label:u,children:f,value:m,onValueChange:g,filter:A,shouldFilter:C,loop:F,disablePointerSelection:y=!1,vimBindings:S=!0,...M}=e,B=o.useId(),$=o.useId(),N=o.useId(),O=o.useRef(null),v=Hn();te(()=>{if(m!==void 0){let d=m.trim();n.current.value=d,x.emit()}},[m]),te(()=>{v(6,X)},[]);let x=o.useMemo(()=>({subscribe:d=>(i.current.add(d),()=>i.current.delete(d)),snapshot:()=>n.current,setState:(d,R,I)=>{var j,T,z;if(!Object.is(n.current[d],R)){if(n.current[d]=R,d==="search")D(),_(),v(1,k);else if(d==="value"&&(I||v(5,X),((j=c.current)==null?void 0:j.value)!==void 0)){let q=R??"";(z=(T=c.current).onValueChange)==null||z.call(T,q);return}x.emit()}},emit:()=>{i.current.forEach(d=>d())}}),[]),b=o.useMemo(()=>({value:(d,R,I)=>{var j;R!==((j=l.current.get(d))==null?void 0:j.value)&&(l.current.set(d,{value:R,keywords:I}),n.current.filtered.items.set(d,P(R,I)),v(2,()=>{_(),x.emit()}))},item:(d,R)=>(a.current.add(d),R&&(s.current.has(R)?s.current.get(R).add(d):s.current.set(R,new Set([d]))),v(3,()=>{D(),_(),n.current.value||k(),x.emit()}),()=>{l.current.delete(d),a.current.delete(d),n.current.filtered.items.delete(d);let I=K();v(4,()=>{D(),(I==null?void 0:I.getAttribute("id"))===d&&k(),x.emit()})}),group:d=>(s.current.has(d)||s.current.set(d,new Set),()=>{l.current.delete(d),s.current.delete(d)}),filter:()=>c.current.shouldFilter,label:u||e["aria-label"],disablePointerSelection:y,listId:B,inputId:N,labelId:$,listInnerRef:O}),[]);function P(d,R){var I,j;let T=(j=(I=c.current)==null?void 0:I.filter)!=null?j:Ln;return d?T(d,n.current.search,R):0}function _(){if(!n.current.search||c.current.shouldFilter===!1)return;let d=n.current.filtered.items,R=[];n.current.filtered.groups.forEach(j=>{let T=s.current.get(j),z=0;T.forEach(q=>{let J=d.get(q);z=Math.max(J,z)}),R.push([j,z])});let I=O.current;W().sort((j,T)=>{var z,q;let J=j.getAttribute("id"),ge=T.getAttribute("id");return((z=d.get(ge))!=null?z:0)-((q=d.get(J))!=null?q:0)}).forEach(j=>{let T=j.closest(Re);T?T.appendChild(j.parentElement===T?j:j.closest(`${Re} > *`)):I.appendChild(j.parentElement===I?j:j.closest(`${Re} > *`))}),R.sort((j,T)=>T[1]-j[1]).forEach(j=>{let T=O.current.querySelector(`${ue}[${Q}="${encodeURIComponent(j[0])}"]`);T==null||T.parentElement.appendChild(T)})}function k(){let d=W().find(I=>I.getAttribute("aria-disabled")!=="true"),R=d==null?void 0:d.getAttribute(Q);x.setState("value",R||void 0)}function D(){var d,R,I,j;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let T=0;for(let z of a.current){let q=(R=(d=l.current.get(z))==null?void 0:d.value)!=null?R:"",J=(j=(I=l.current.get(z))==null?void 0:I.keywords)!=null?j:[],ge=P(q,J);n.current.filtered.items.set(z,ge),ge>0&&T++}for(let[z,q]of s.current)for(let J of q)if(n.current.filtered.items.get(J)>0){n.current.filtered.groups.add(z);break}n.current.filtered.count=T}function X(){var d,R,I;let j=K();j&&(((d=j.parentElement)==null?void 0:d.firstChild)===j&&((I=(R=j.closest(ue))==null?void 0:R.querySelector(An))==null||I.scrollIntoView({block:"nearest"})),j.scrollIntoView({block:"nearest"}))}function K(){var d;return(d=O.current)==null?void 0:d.querySelector(`${He}[aria-selected="true"]`)}function W(){var d;return Array.from((d=O.current)==null?void 0:d.querySelectorAll(st))}function U(d){let R=W()[d];R&&x.setState("value",R.getAttribute(Q))}function L(d){var R;let I=K(),j=W(),T=j.findIndex(q=>q===I),z=j[T+d];(R=c.current)!=null&&R.loop&&(z=T+d<0?j[j.length-1]:T+d===j.length?j[0]:j[T+d]),z&&x.setState("value",z.getAttribute(Q))}function p(d){let R=K(),I=R==null?void 0:R.closest(ue),j;for(;I&&!j;)I=d>0?Wn(I,ue):qn(I,ue),j=I==null?void 0:I.querySelector(st);j?x.setState("value",j.getAttribute(Q)):L(d)}let h=()=>U(W().length-1),w=d=>{d.preventDefault(),d.metaKey?h():d.altKey?p(1):L(1)},E=d=>{d.preventDefault(),d.metaKey?U(0):d.altKey?p(-1):L(-1)};return o.createElement(G.div,{ref:r,tabIndex:-1,...M,"cmdk-root":"",onKeyDown:d=>{var R;if((R=M.onKeyDown)==null||R.call(M,d),!d.defaultPrevented)switch(d.key){case"n":case"j":{S&&d.ctrlKey&&w(d);break}case"ArrowDown":{w(d);break}case"p":case"k":{S&&d.ctrlKey&&E(d);break}case"ArrowUp":{E(d);break}case"Home":{d.preventDefault(),U(0);break}case"End":{d.preventDefault(),h();break}case"Enter":if(!d.nativeEvent.isComposing&&d.keyCode!==229){d.preventDefault();let I=K();if(I){let j=new Event(_e);I.dispatchEvent(j)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:b.inputId,id:b.labelId,style:Yn},u),$e(e,d=>o.createElement(St.Provider,{value:x},o.createElement(kt.Provider,{value:b},d))))}),Mn=o.forwardRef((e,r)=>{var n,a;let s=o.useId(),l=o.useRef(null),i=o.useContext(Pt),c=pe(),u=Rt(e),f=(a=(n=u.current)==null?void 0:n.forceMount)!=null?a:i==null?void 0:i.forceMount;te(()=>{if(!f)return c.item(s,i==null?void 0:i.id)},[f]);let m=It(s,l,[e.value,e.children,l],e.keywords),g=Ve(),A=re(v=>v.value&&v.value===m.current),C=re(v=>f||c.filter()===!1?!0:v.search?v.filtered.items.get(s)>0:!0);o.useEffect(()=>{let v=l.current;if(!(!v||e.disabled))return v.addEventListener(_e,F),()=>v.removeEventListener(_e,F)},[C,e.onSelect,e.disabled]);function F(){var v,x;y(),(x=(v=u.current).onSelect)==null||x.call(v,m.current)}function y(){g.setState("value",m.current,!0)}if(!C)return null;let{disabled:S,value:M,onSelect:B,forceMount:$,keywords:N,...O}=e;return o.createElement(G.div,{ref:me([l,r]),...O,id:s,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!A,"data-disabled":!!S,"data-selected":!!A,onPointerMove:S||c.disablePointerSelection?void 0:y,onClick:S?void 0:F},e.children)}),Tn=o.forwardRef((e,r)=>{let{heading:n,children:a,forceMount:s,...l}=e,i=o.useId(),c=o.useRef(null),u=o.useRef(null),f=o.useId(),m=pe(),g=re(C=>s||m.filter()===!1?!0:C.search?C.filtered.groups.has(i):!0);te(()=>m.group(i),[]),It(i,c,[e.value,e.heading,u]);let A=o.useMemo(()=>({id:i,forceMount:s}),[s]);return o.createElement(G.div,{ref:me([c,r]),...l,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},n&&o.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:f},n),$e(e,C=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?f:void 0},o.createElement(Pt.Provider,{value:A},C))))}),Fn=o.forwardRef((e,r)=>{let{alwaysRender:n,...a}=e,s=o.useRef(null),l=re(i=>!i.search);return!n&&!l?null:o.createElement(G.div,{ref:me([s,r]),...a,"cmdk-separator":"",role:"separator"})}),_n=o.forwardRef((e,r)=>{let{onValueChange:n,...a}=e,s=e.value!=null,l=Ve(),i=re(m=>m.search),c=re(m=>m.value),u=pe(),f=o.useMemo(()=>{var m;let g=(m=u.listInnerRef.current)==null?void 0:m.querySelector(`${He}[${Q}="${encodeURIComponent(c)}"]`);return g==null?void 0:g.getAttribute("id")},[]);return o.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),o.createElement(G.input,{ref:r,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":f,id:u.inputId,type:"text",value:s?e.value:i,onChange:m=>{s||l.setState("search",m.target.value),n==null||n(m.target.value)}})}),Un=o.forwardRef((e,r)=>{let{children:n,label:a="Suggestions",...s}=e,l=o.useRef(null),i=o.useRef(null),c=pe();return o.useEffect(()=>{if(i.current&&l.current){let u=i.current,f=l.current,m,g=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let A=u.offsetHeight;f.style.setProperty("--cmdk-list-height",A.toFixed(1)+"px")})});return g.observe(u),()=>{cancelAnimationFrame(m),g.unobserve(u)}}},[]),o.createElement(G.div,{ref:me([l,r]),...s,"cmdk-list":"",role:"listbox","aria-label":a,id:c.listId},$e(e,u=>o.createElement("div",{ref:me([i,c.listInnerRef]),"cmdk-list-sizer":""},u)))}),Bn=o.forwardRef((e,r)=>{let{open:n,onOpenChange:a,overlayClassName:s,contentClassName:l,container:i,...c}=e;return o.createElement(Dn,{open:n,onOpenChange:a},o.createElement(Rn,{container:i},o.createElement(In,{"cmdk-overlay":"",className:s}),o.createElement(On,{"aria-label":e.label,"cmdk-dialog":"",className:l},o.createElement(Dt,{ref:r,...c}))))}),zn=o.forwardRef((e,r)=>re(n=>n.filtered.count===0)?o.createElement(G.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),Kn=o.forwardRef((e,r)=>{let{progress:n,children:a,label:s="Loading...",...l}=e;return o.createElement(G.div,{ref:r,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},$e(e,i=>o.createElement("div",{"aria-hidden":!0},i)))}),Y=Object.assign(Dt,{List:Un,Item:Mn,Input:_n,Group:Tn,Separator:Fn,Dialog:Bn,Empty:zn,Loading:Kn});function Wn(e,r){let n=e.nextElementSibling;for(;n;){if(n.matches(r))return n;n=n.nextElementSibling}}function qn(e,r){let n=e.previousElementSibling;for(;n;){if(n.matches(r))return n;n=n.previousElementSibling}}function Rt(e){let r=o.useRef(e);return te(()=>{r.current=e}),r}var te=typeof window>"u"?o.useEffect:o.useLayoutEffect;function ce(e){let r=o.useRef();return r.current===void 0&&(r.current=e()),r}function me(e){return r=>{e.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}function re(e){let r=Ve(),n=()=>e(r.snapshot());return o.useSyncExternalStore(r.subscribe,n,n)}function It(e,r,n,a=[]){let s=o.useRef(),l=pe();return te(()=>{var i;let c=(()=>{var f;for(let m of n){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(f=m.current.textContent)==null?void 0:f.trim():s.current}})(),u=a.map(f=>f.trim());l.value(e,c,u),(i=r.current)==null||i.setAttribute(Q,c),s.current=c}),s}var Hn=()=>{let[e,r]=o.useState(),n=ce(()=>new Map);return te(()=>{n.current.forEach(a=>a()),n.current=new Map},[e]),(a,s)=>{n.current.set(a,s),r({})}};function Vn(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function $e({asChild:e,children:r},n){return e&&o.isValidElement(r)?o.cloneElement(Vn(r),{ref:r.ref},n(r.props.children)):n(r)}var Yn={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ot=o.forwardRef(({className:e,...r},n)=>t.jsx(Y,{ref:n,className:de("flex h-full w-full flex-col overflow-hidden rounded-md bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",e),...r}));Ot.displayName=Y.displayName;const At=o.forwardRef(({className:e,...r},n)=>t.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[t.jsx(jr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),t.jsx(Y.Input,{ref:n,className:de("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-slate-500 disabled:cursor-not-allowed disabled:opacity-50 dark:placeholder:text-slate-400",e),...r})]}));At.displayName=Y.Input.displayName;const Lt=o.forwardRef(({className:e,...r},n)=>t.jsx(Y.List,{ref:n,className:de("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));Lt.displayName=Y.List.displayName;const Mt=o.forwardRef((e,r)=>t.jsx(Y.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));Mt.displayName=Y.Empty.displayName;const Xn=o.forwardRef(({className:e,...r},n)=>t.jsx(Y.Group,{ref:n,className:de("overflow-hidden p-1 text-slate-950 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-slate-500 dark:text-slate-50 dark:[&_[cmdk-group-heading]]:text-slate-400",e),...r}));Xn.displayName=Y.Group.displayName;const Gn=o.forwardRef(({className:e,...r},n)=>t.jsx(Y.Separator,{ref:n,className:de("-mx-1 h-px bg-slate-200 dark:bg-slate-800",e),...r}));Gn.displayName=Y.Separator.displayName;const Tt=o.forwardRef(({className:e,...r},n)=>t.jsx(Y.Item,{ref:n,className:de("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-slate-100 data-[selected=true]:text-slate-900 data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:data-[selected='true']:bg-slate-800 dark:data-[selected=true]:text-slate-50",e),...r}));Tt.displayName=Y.Item.displayName;function we({trigger:e,type:r,target:n,required:a=!1,componentProps:s}){var u;const[l,i]=o.useState(typeof e=="string"?e:""),c=f=>{if(a&&l.length===0){f.preventDefault();return}typeof n=="function"&&n(l)};return t.jsxs(Ue,{children:[t.jsx(dt,{className:`p-2 text-left hover:outline hover:outline-slate-500 rounded-md ${s==null?void 0:s.dialogTriggerCN}`,children:e}),t.jsxs(Be,{children:[t.jsxs(ze,{children:[t.jsxs(Ke,{children:["Edit ",r]}),t.jsx(We,{className:"hidden"})]}),t.jsx("input",{placeholder:a?"*required":"",className:a&&l.length===0?"border-2 border-red-500":"",type:"text",value:l,onBlur:()=>i(f=>f.trim()),onChange:f=>i(f.target.value),...s==null?void 0:s.input}),((u=s==null?void 0:s.input)==null?void 0:u.maxLength)&&t.jsx("div",{className:"font-bold text-sm text-red-500",children:l.length===s.input.maxLength&&"Max. characters: 255"}),t.jsx(cr,{className:"justify-end",children:t.jsx(ut,{asChild:!0,children:t.jsxs("button",{type:"button",className:"px-3 py-2 bg-cyan-400 rounded-lg",onClick:c,children:["Set ",r]})})})]})]})}function Ie({size:e}){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e||"24",height:e||"24",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-trash",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M20 6a1 1 0 0 1 .117 1.993l-.117 .007h-.081l-.919 11a3 3 0 0 1 -2.824 2.995l-.176 .005h-8c-1.598 0 -2.904 -1.249 -2.992 -2.75l-.005 -.167l-.923 -11.083h-.08a1 1 0 0 1 -.117 -1.993l.117 -.007h16z"}),t.jsx("path",{d:"M14 2a2 2 0 0 1 2 2a1 1 0 0 1 -1.993 .117l-.007 -.117h-4l-.007 .117a1 1 0 0 1 -1.993 -.117a2 2 0 0 1 1.85 -1.995l.15 -.005h4z"})]})}function lt({size:e}){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e||"24",height:e||"24",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-square-arrow-up",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1 -3 3h-14a3 3 0 0 1 -3 -3v-14a3 3 0 0 1 3 -3zm-7 5l-.09 .004l-.058 .007l-.118 .025l-.105 .035l-.113 .054l-.111 .071a1.008 1.008 0 0 0 -.112 .097l-4 4l-.083 .094a1 1 0 0 0 .083 1.32l.094 .083a1 1 0 0 0 1.32 -.083l2.293 -2.292v5.585l.007 .117a1 1 0 0 0 1.993 -.117v-5.585l2.293 2.292l.094 .083a1 1 0 0 0 1.32 -1.497l-4 -4l-.082 -.073l-.104 -.074l-.098 -.052l-.11 -.044l-.112 -.03l-.126 -.017l-.075 -.003z"})]})}function ct({size:e}){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e||"24",height:e||"24",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-square-arrow-down",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1 -3 3h-14a3 3 0 0 1 -3 -3v-14a3 3 0 0 1 3 -3zm-7 5a1 1 0 0 0 -1 1v5.585l-2.293 -2.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l4 4l.094 .083l.092 .064l.098 .052l.11 .044l.112 .03l.126 .017l.075 .003l.117 -.007l.149 -.029l.105 -.035l.113 -.054l.111 -.071a.939 .939 0 0 0 .112 -.097l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32l-.094 -.083a1 1 0 0 0 -1.32 .083l-2.293 2.292v-5.585l-.007 -.117a1 1 0 0 0 -.993 -.883z"})]})}function Zn({keywords:e,className:r,activeOrgKeywords:n,updateOrgKeywords:a}){e=s(e);function s($){return $.sort((N,O)=>N.keyword.localeCompare(O.keyword))}const[l,i]=o.useState([]),[c,u]=o.useState([]),[f,m]=o.useState(!1);o.useEffect(()=>{g()},[]),o.useEffect(()=>{m(l!==n)},[l]);const g=()=>{i(n);const $=e.filter(N=>!n.some(O=>O.keyword===N.keyword));u($)},[A,C]=o.useState(""),F=$=>{if(C($.target.value),$.target.value===""||$.target.value===null){u(s(c));return}const N=c.filter(v=>v.keyword.toLowerCase().includes($.target.value.toLowerCase())).sort((v,x)=>{const b=$.target.value.toLowerCase(),P=v.keyword.toLowerCase(),_=x.keyword.toLowerCase(),k=P.startsWith(b)?0:1,D=_.startsWith(b)?0:1;return k!==D?k-D:P.indexOf(b)-_.indexOf(b)||P.localeCompare(_)}),O=c.filter(v=>!v.keyword.toLowerCase().includes($.target.value.toLowerCase())).sort((v,x)=>v.keyword.localeCompare(x.keyword));u([...N,...O])},y=$=>{const N=s([...l,$]);i(N),u(O=>O.filter(v=>v.keyID!==$.keyID))},S=$=>{const N=[$,...c];u(s(N)),i(O=>O.filter(v=>v.keyID!==$.keyID))};return t.jsxs("div",{className:`w-full flex flex-wrap gap-2 min-h-10 border-[1px] rounded-md p-2 relative text-xs overflow-clip group ${r}`,children:[t.jsxs(Ue,{children:[t.jsx(dt,{className:"absolute size-full inset-0",children:t.jsxs("div",{className:"size-full flex items-center justify-center invisible group-hover:visible group-hover:!bg-gray-800/70 text-black/0 group-hover:!text-white transition-all duration-200 ease-in-out",children:[(l==null?void 0:l.length)!==0&&"Edit"||"Add"," Keywords"]})}),t.jsxs(Be,{className:"sm:max-w-[32rem] !h-fit max-h-[90%] w-[90%] sm:h-auto overflow-y-auto select-none",children:[t.jsxs(ze,{children:[t.jsx(Ke,{children:"Add/Remove Keyword Filters"}),t.jsxs(We,{className:"!-mb-3",children:["Filter organizations by adding or removing keywords. Save changes when you're done.",t.jsxs("span",{className:`text-red-500 font-bold ${f?"visible":"invisible"}`,children:[t.jsx("br",{}),"You have unsaved changes."]})]})]}),t.jsxs("div",{className:"flex gap-x-3",children:[t.jsx("input",{className:"w-full rounded-md",type:"text",autoComplete:"off",placeholder:"Find Keywords...",name:"keyword_filter",onChange:F,value:A}),t.jsx("button",{onClick:g,className:"h-full px-3 border border-black rounded-md hover:bg-gray-800 hover:text-white transition-all",children:"Reset"})]}),t.jsxs("div",{className:"w-full flex flex-wrap justify-center sm:justify-start gap-2 border-[1px] rounded-md border-gray-800 p-2 relative text-xs overflow-clip",children:[l.length!==0&&l.map(($,N)=>t.jsx(B,{name:$.keyword,remove:!0,onClick:()=>S($)},N)),l.length===0&&t.jsx("div",{className:"pl-1 h-8 flex items-center",children:"(No Keywords Selected)"})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-arrow-up",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M12 5l0 14"}),t.jsx("path",{d:"M18 11l-6 -6"}),t.jsx("path",{d:"M6 11l6 -6"})]})}),t.jsx("div",{className:"w-full flex flex-wrap justify-center sm:justify-start gap-2 border-[1px] rounded-md border-gray-300 p-2 relative text-xs",children:c.map(($,N)=>t.jsx(B,{name:$.keyword,add:!0,onClick:()=>y($)},N))}),f&&t.jsx(ut,{asChild:!0,children:t.jsxs("div",{className:"w-full flex justify-end space-x-3",children:[t.jsx("div",{className:"text-red-500 font-bold my-auto",children:"You have unsaved changes."}),t.jsx(wr,{type:"button",className:"bg-transparent hover:!bg-gray-800 text-black hover:!text-white border border-black w-fit",onClick:()=>a(l),children:"Update"})]})})]})]}),n.length!==0?n.map(($,N)=>t.jsx(M,{name:$.keyword},N)):t.jsx("div",{className:"text-gray-500 my-auto flex items-center",children:"(No Keywords Attached)"})]});function M({name:$}){return t.jsx("div",{className:"w-min px-2 py-1 bg-[#ffb700] border border-gray-300 h-fit rounded-md cursor-pointer whitespace-nowrap",children:$})}function B({name:$,remove:N,add:O,...v}){return t.jsxs("button",{...v,className:`select-none w-min px-2 py-1 ${O&&"bg-gray-200"} ${N&&"bg-[#ffb700]"} border border-gray-300 h-8 rounded-md space-x-2 flex items-center ${O&&"hover:bg-gray-300"} ${N&&"hover:bg-[#e6a70b]"} group`,children:[t.jsx("span",{className:"whitespace-nowrap",children:$}),t.jsxs("div",{className:"h-5 aspect-square text-gray-400",children:[N&&t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-circle-x text-black/70",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z"})]}),O&&t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-circle-plus",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M4.929 4.929a10 10 0 1 1 14.141 14.141a10 10 0 0 1 -14.14 -14.14zm8.071 4.071a1 1 0 1 0 -2 0v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0 -2h-2v-2z"})]})]})]})}}function $o({pageData:e,pageLayoutData:r,keywords:n,orgID:a,members:s,isMember:l}){const{errors:i}=Ut().props;console.log("errors:",i);const c=20*1024*1024,[u,f]=o.useState({pageData:{...e},pageLayoutData:{...r}}),[m,g]=o.useState({all:!1,storage:{}});console.log("current page state:",u),o.useEffect(()=>{const v=!(JSON.stringify(u.pageData)===JSON.stringify(e)&&JSON.stringify(u.pageLayoutData)===JSON.stringify(r));g(b=>({...b,all:v}));function x(b,P){return JSON.stringify(b)===JSON.stringify(P)}if(v){let b={};x(u.pageLayoutData.coverPhoto,r.coverPhoto)?delete b.coverPhoto:b.coverPhoto=!0,x(u.pageLayoutData.logo,r.logo)?delete b.logo:b.logo=!0,x(u.pageLayoutData.metadata.keywords,r.metadata.keywords)?delete b.keywords:b.keywords=!0,x(u.pageData.aboutUs,e.aboutUs)?delete b.aboutUs:b.aboutUs=!0,x(u.pageData.contacts,e.contacts)?delete b.contacts:b.contacts=!0,x(u.pageData.officers,e.officers)?delete b.officers:b.officers=!0,x(u.pageData.fb_link,e.fb_link)?delete b.social:b.social=!0,x(u.pageData.photos,e.photos)?delete b.photos:b.photos=!0,g(P=>({...P,changes:b}))}else g(b=>(delete b.changes,delete b.files,b))},[u]);const A=()=>{f({pageLayoutData:r,pageData:e}),g({all:!1})};return t.jsxs("div",{className:"w-full",children:[t.jsx(Bt,{title:"Admin Dashboard"}),t.jsx(Wt,{orgID:a,children:t.jsx(qt,{navItems:[{icon:t.jsx(Jt,{}),label:"Edit Page",link:"admin.editpage",params:{orgID:a}},{icon:t.jsx(Ht,{}),label:"Members",link:"admin.invite",params:{orgID:a}}],title:"Edit Organization's Page",children:t.jsxs("div",{className:`p-5  !border-[2.5px] border-transparent ${m.all&&"!border-red-500"}`,children:[m.all&&t.jsx("div",{className:"flex justify-end mb-2",children:t.jsx("div",{className:"px-3 py-1 mb-3 text-sm text-white rounded-full bg-red-500",children:"You Have Unsaved Changes"})}),t.jsx(Vt,{editing:{coverPhoto:t.jsx(C,{}),orgLogo:t.jsx(F,{}),keywords:t.jsx(y,{}),aboutUs:t.jsx(S,{}),contacts:t.jsx(M,{}),officers:t.jsx(B,{}),social:t.jsx($,{}),photos:t.jsx(N,{}),saveButton:t.jsx(O,{})},isMember:l,pageData:u.pageData,pageLayoutData:u.pageLayoutData})]})})})]});function C(){var U,L;const v=u.pageLayoutData.coverPhoto!==r.coverPhoto,[x,b]=o.useState((U=m==null?void 0:m.storage)==null?void 0:U.coverPhoto),[P,_]=o.useState(x?URL.createObjectURL(x):""),[k,D]=o.useState(""),X=p=>{const h=p.target.files[0];if(h){if(h.size>c){D("Max. file size 20MB exceeded.");return}else D("");if(h.name==="default.jpeg"){D('File name "default.jpeg" is not allowed.');return}else D("");b(h),_(URL.createObjectURL(h))}},K=()=>{f(p=>({...p,pageLayoutData:{...p.pageLayoutData,coverPhoto:P}})),g(p=>({...p,storage:{...p.storage,coverPhoto:x}}))},W=()=>{f(p=>({...p,pageLayoutData:{...p.pageLayoutData,coverPhoto:r.coverPhoto}})),g(p=>{let h={...p};return delete h.storage.coverPhoto,h})};return Object.entries(i).filter(([p])=>p==="changesMade.storage.coverPhoto").map(([,p])=>p),t.jsxs(H,{title:"Set Page Cover Photo",componentProps:{dialogTriggerCN:(L=m.changes)!=null&&L.coverPhoto?"border border-red-500":""},footer:t.jsx(H.ActionButtons,{resetProps:{onClick:W},previewChangeProps:x?{onClick:K}:null}),editErrors:i["changesMade.storage.coverPhoto"],children:[t.jsxs("label",{children:["Select an image:"," ",t.jsx("span",{className:"text-gray-400",children:"(Accepts .png, .jpg, and .jpeg. Max 20MB)"})]}),t.jsx("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",onChange:X}),t.jsx("div",{className:"font-bold text-sm text-red-500",children:k}),P&&t.jsx("div",{children:t.jsx("img",{src:P,alt:"Image Preview",className:"object-cover",style:{width:"100%"}})})||v&&t.jsx("img",{src:u.pageLayoutData.coverPhoto,alt:"Image Preview",className:"object-cover",style:{width:"100%"}})]})}function F(){var U,L;const v=u.pageLayoutData.logo!==r.logo,[x,b]=o.useState((U=m==null?void 0:m.storage)==null?void 0:U.logo),[P,_]=o.useState(x?URL.createObjectURL(x):""),[k,D]=o.useState(""),X=p=>{const h=p.target.files[0];if(h){if(h.size>c){D("Max. file size 20MB exceeded.");return}else D("");if(h.name==="default.jpeg"){D('File name "default.jpeg" is not allowed.');return}else D("");b(h),_(URL.createObjectURL(h))}},K=()=>{f(p=>({...p,pageLayoutData:{...p.pageLayoutData,logo:P}})),g(p=>({...p,storage:{...p.storage,logo:x}}))},W=()=>{f(p=>({...p,pageLayoutData:{...p.pageLayoutData,logo:r.logo}})),g(p=>{let h={...p};return delete h.storage.logo,h})};return t.jsxs(H,{title:"Set Organization Logo",componentProps:{dialogTriggerCN:(L=m.changes)!=null&&L.logo?"border border-red-500":""},footer:t.jsx(H.ActionButtons,{resetProps:{onClick:W},previewChangeProps:x?{onClick:K}:null}),editErrors:i["changesMade.storage.logo"],children:[t.jsxs("label",{children:["Select an image:"," ",t.jsx("span",{className:"text-gray-400",children:"(Accepts .png, .jpg, and .jpeg. Max 20MB)"})]}),t.jsx("input",{type:"file",accept:"image/png, image/jpg, image/jpeg, image/webp",onChange:X}),t.jsx("div",{className:"font-bold text-sm text-red-500",children:k}),P&&t.jsx("div",{children:t.jsx("img",{src:P,alt:"Image Preview",style:{width:"100%"}})})||v&&t.jsx("img",{src:u.pageLayoutData.logo,alt:"Image Preview",style:{width:"100%"}})]})}function y(){var k;const[v,x]=o.useState(u.pageLayoutData.metadata.keywords),b=()=>{f(D=>({...D,pageLayoutData:{...D.pageLayoutData,metadata:{...D.pageLayoutData.metadata,keywords:r.metadata.keywords}}})),x(r.metadata.keywords)},P=()=>{f(D=>({...D,pageLayoutData:{...D.pageLayoutData,metadata:{...D.pageLayoutData.metadata,keywords:v}}}))},_=D=>{x(D)};return t.jsx(H,{title:"Set Organization Keywords",componentProps:{dialogTriggerCN:(k=m.changes)!=null&&k.keywords?"border border-red-500":""},footer:t.jsx(H.ActionButtons,{resetProps:{onClick:b},previewChangeProps:{onClick:P}}),editErrors:i["pageState.pageLayoutData.keywords"],children:t.jsx(Zn,{keywords:n,activeOrgKeywords:v,updateOrgKeywords:_})})}function S(){var k;const[v,x]=o.useState(u.pageData.aboutUs||""),b=1500,P=()=>{f(D=>({...D,pageData:{...D.pageData,aboutUs:v}}))},_=()=>{f(D=>({...D,pageData:{...D.pageData,aboutUs:e.aboutUs}}))};return t.jsxs(H,{title:"Set About Us description (Max. 1500 characters)",componentProps:{dialogTriggerCN:(k=m.changes)!=null&&k.aboutUs?"border border-red-500":""},footer:t.jsx(H.ActionButtons,{resetProps:{onClick:_},previewChangeProps:{onClick:P}}),editErrors:i["pageState.pageData.aboutUs"],children:[t.jsx("textarea",{placeholder:"Your description here...",className:"h-52",maxLength:b,value:v||"",onBlur:()=>x(D=>D==null?void 0:D.trim()),onChange:D=>x(D.target.value)}),t.jsx("div",{className:"font-bold text-sm text-red-500",children:v.length==b&&`Max. length ${b} reached.`})]})}function M(){var K,W;const[v,x]=o.useState(((K=u==null?void 0:u.pageData)==null?void 0:K.contacts)||[]),b=()=>{const U=v.filter(L=>L.name!==""&&L.address!=="");x(U),f(L=>({...L,pageData:{...L.pageData,contacts:U}}))},P=()=>{f(U=>({...U,pageData:{...U.pageData,contacts:e.contacts}}))};function _(U){const L=v.filter((p,h)=>h!==U);x(L)}const k={email:t.jsx(er,{}),instagram:t.jsx(Yt,{}),facebook:t.jsx(tr,{}),x:t.jsx(Xt,{}),linkedin:t.jsx(Gt,{}),default:t.jsx(Zt,{})},D=()=>{x(U=>{let L={contactID:null,orgID:r.orgID,platform:"default",name:"",address:""};return[...U,L]})};return t.jsx(H,{title:"Set contacts list",componentProps:{dialogContentCN:"max-w-[40rem]",dialogTriggerCN:(W=m.changes)!=null&&W.contacts?"border border-red-500":""},footer:t.jsx(H.ActionButtons,{resetProps:{onClick:P},previewChangeProps:{onClick:b}}),editErrors:i["pageState.pageData.contacts"],children:t.jsxs("div",{className:"border border-slate-400 w-full p-2 overflow-x-auto",children:[t.jsxs("table",{className:"w-full min-w-96",children:[t.jsx("thead",{className:"font-bold",children:t.jsxs("tr",{children:[t.jsx("td",{className:"text-center",children:"Type"}),t.jsx("td",{className:"px-3",children:"Name"}),t.jsx("td",{children:"Address"}),t.jsx("td",{children:"Action"})]})}),t.jsx("tbody",{children:v.map((U,L)=>t.jsxs("tr",{children:[t.jsx("td",{className:"h-12",children:t.jsx(X,{trigger:t.jsx("div",{className:"size-full flex items-center justify-center cursor-pointer hover:bg-slate-300 rounded-lg",children:k[U.platform]}),index:L})}),t.jsx("td",{className:"px-3",children:t.jsx(we,{trigger:U.name||t.jsx("span",{className:"text-red-500/80 font-bold",children:"*required"}),type:"Name",required:"true",componentProps:{input:{maxLength:255}},target:p=>{x(h=>{const w=[...h];return w[L]={...w[L],name:p},w})}})}),t.jsx("td",{children:t.jsx(we,{trigger:U.address||t.jsx("span",{className:"text-red-500/80 font-bold",children:"*required"}),type:"Address",required:"true",componentProps:{input:{maxLength:255}},target:p=>{x(h=>{const w=[...h];return w[L]={...w[L],address:p},w})}})}),t.jsx("td",{children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("button",{onClick:()=>_(L),className:"size-10 flex items-center justify-center rounded-lg hover:bg-slate-300",children:t.jsx(Ie,{})})})})]},L))})]}),t.jsx("div",{className:"border-b-[1px] mt-2 mb-3 border-slate-400 w-full"}),t.jsxs("button",{className:"py-2 rounded-md text-center w-full bg-slate-300 hover:bg-slate-300/80",onClick:D,children:[t.jsx("span",{className:"text-xl",children:"+"})," Add Contact"]})]})});function X({trigger:U,index:L}){var E;const[p,h]=o.useState((E=v[L])==null?void 0:E.platform),w=d=>{h(d),x(R=>{const I=[...R];return I[L]={...I[L],platform:d},I})};return t.jsxs(rr,{children:[t.jsx(nr,{asChild:!0,children:U}),t.jsxs(or,{className:"w-56",children:[t.jsx(ar,{children:"Select Platform"}),t.jsx(sr,{}),t.jsxs(lr,{value:p,onValueChange:w,children:[t.jsxs(oe,{className:"cursor-pointer hover:font-bold",value:"email",children:[k.email," Email"]}),t.jsxs(oe,{className:"cursor-pointer hover:font-bold",value:"instagram",children:[k.instagram," Instagram"]}),t.jsxs(oe,{className:"cursor-pointer hover:font-bold",value:"facebook",children:[k.facebook," Facebook"]}),t.jsxs(oe,{className:"cursor-pointer hover:font-bold",value:"x",children:[k.x," X (formerly Twitter)"]}),t.jsxs(oe,{className:"cursor-pointer hover:font-bold",value:"linkedin",children:[k.linkedin," LinkedIn"]}),t.jsxs(oe,{className:"cursor-pointer hover:font-bold",value:"default",children:[k.default," Other"]})]})]})]})}}function B(){var L;const[v,x]=o.useState([...u.pageData.officers]),b=o.useMemo(()=>s.sort((p,h)=>p.lastname.localeCompare(h.lastname)),[s]),[P,_]=o.useState(null),k=()=>{f(p=>{const h=v.filter(w=>w.userID!==null&&w.user!==null&&w.position!=="");return{...p,pageData:{...p.pageData,officers:[...h]}}})},D=()=>{x(p=>[...p,{officerID:null,orgID:a,userID:null,position:"",user:null}])};function X(p){p!==0&&x(h=>{let w=[...h];const E=w[p-1];return w[p-1]=w[p],w[p]=E,w})}function K(p){p>=v.length-1||x(h=>{let w=[...h];const E=w[p+1];return w[p+1]=w[p],w[p]=E,w})}function W(p){x(h=>h.filter((E,d)=>d!==p))}const U=()=>{f(p=>({...p,pageData:{...p.pageData,officers:e.officers}}))};return t.jsxs(H,{title:"Set officers list",componentProps:{dialogContentCN:"max-w-[40rem] w-full overflow-x-auto",dialogTriggerCN:(L=m.changes)!=null&&L.officers?"border border-red-500":""},footer:t.jsx(H.ActionButtons,{previewChangeProps:{onClick:k},resetProps:{onClick:U}}),editErrors:i["pageState.pageData.officers"],children:[t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-2",children:t.jsx("div",{className:"py-3",children:"Position"})}),t.jsx("th",{className:"text-left px-2",children:"Assigned Member"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:v.map((p,h)=>t.jsxs(zt.Fragment,{children:[t.jsxs("tr",{children:[t.jsx("td",{className:"text-left",children:t.jsx(we,{trigger:(p==null?void 0:p.position)||t.jsx("span",{className:"text-red-500/80 font-bold",children:"*required"}),type:"Position Name",required:"true",componentProps:{dialogTriggerCN:"text-xs sm:text-base leading-tight sm:leading-normal",input:{maxLength:255}},target:w=>{x(E=>{let d=[...E];return d[h]={...d[h],position:w},d})}})}),t.jsx("td",{children:t.jsx("button",{className:"w-full text-left p-2 hover:outline hover:outline-slate-500 rounded-md",onClick:()=>_(h),children:p.user!==null?`${p.user.lastname}, ${p.user.firstname}${p.user.middlename?` ${p.user.middlename}`:""}`:t.jsx("span",{className:"text-red-500/80 font-bold",children:"*required"})})}),t.jsx("td",{children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-3 justify-center items-center",children:[t.jsxs("div",{className:"flex gap-x-1 items-center",children:[t.jsxs("button",{className:"text-slate-600 enabled:hover:text-slate-600/80 disabled:cursor-not-allowed relative group",onClick:()=>X(h),disabled:h===0,children:[t.jsx(lt,{size:30}),t.jsx("div",{className:"group-disabled:block hidden h-0 border-b-2 border-red-500 absolute w-full inset-0 m-auto -rotate-45"})]}),t.jsxs("button",{className:"text-slate-600 enabled:hover:text-slate-600/80 disabled:cursor-not-allowed relative group",onClick:()=>K(h),disabled:h===v.length-1,children:[t.jsx(ct,{size:30}),t.jsx("div",{className:"group-disabled:block hidden h-0 border-b-2 border-red-500 absolute w-full inset-0 m-auto -rotate-45"})]})]}),t.jsxs("button",{onClick:()=>W(h),className:"size-10 flex items-center justify-center rounded-lg hover:bg-slate-300 relative group disabled:cursor-not-allowed",children:[t.jsx(Ie,{}),t.jsx("div",{className:"group-disabled:block hidden h-0 border-b-2 border-red-500 absolute w-full inset-0 m-auto -rotate-45"})]})]})})]}),t.jsx("tr",{children:t.jsx("td",{colSpan:"3",children:t.jsx("div",{className:"border-b-[1px] mt-2 mb-3 border-slate-300 w-full"})})})]},h))})]}),t.jsxs("button",{className:"py-2 rounded-md text-center w-full bg-slate-300 hover:bg-slate-300/80",onClick:D,children:[t.jsx("span",{className:"text-xl",children:"+"})," Add Officer"]}),t.jsx(Ue,{open:P!==null,onOpenChange:p=>_(p?P:null),children:t.jsx(Be,{children:t.jsxs(ze,{children:[t.jsx(Ke,{children:"Assign Student to this Position"}),t.jsx(We,{className:"mb-4",children:"Below is a list of your organization's current members:"}),t.jsxs(Ot,{children:[t.jsx(At,{placeholder:"Search member by student id or name..."}),t.jsxs(Lt,{children:[t.jsx(Mt,{children:"No member found."}),b.map(p=>t.jsxs(Tt,{className:"hover:font-bold cursor-pointer py-4",value:`${p.lastname}, ${p.firstname}${p.middlename?` ${p.middlename} ${p.userID}`:""}`,onSelect:()=>{var w;const h={officerID:((w=v[P])==null?void 0:w.officerID)||null,orgID:parseInt(a),userID:String(p.userID),position:v[P].position,user:{...p}};x(E=>{let d=[...E];return d[P]=h,d}),_(null)},children:[t.jsx("span",{className:"w-[10ch] text-end",children:p.userID}),"|  ",p.lastname,","," ",p.firstname,p.middlename?` ${p.middlename}`:""]},p.userID))]})]})]})})})]})}function $(){var _;const[v,x]=o.useState(u.pageData.fb_link),b=()=>{f(k=>({...k,pageData:{...k.pageData,fb_link:v}}))},P=()=>{f(k=>({...k,pageData:{...k.pageData,fb_link:e.fb_link}}))};return t.jsxs(H,{title:"Set Facebook Page URL link",componentProps:{dialogTriggerCN:(_=m.changes)!=null&&_.social?"border border-red-500":""},transparent:!0,footer:t.jsx(H.ActionButtons,{resetProps:{onClick:P},previewChangeProps:{onClick:b}}),editErrors:i["pageState.pageData.fb_link"],children:[t.jsx("input",{type:"text",placeholder:"https://www.facebook.com/yourpage",value:v||"",onBlur:()=>x(k=>k==null?void 0:k.trim()),onChange:k=>x(k.target.value),maxLength:255}),t.jsx("div",{className:"font-bold text-sm text-red-500",children:(v==null?void 0:v.length)===255&&"Max. characters: 255"})]})}function N(){var L,p;const[v,x]=o.useState(u.pageData.photos),[b,P]=o.useState(((L=m==null?void 0:m.storage)==null?void 0:L.photos)||{}),_=()=>{const h=v.filter(w=>w.caption!==""&&w.filename!=="");f(w=>({...w,pageData:{...w.pageData,photos:h}})),g(w=>({...w,storage:{...w.storage,photos:b}}))},k=()=>{f(h=>({...h,pageData:{...h.pageData,photos:e.photos}})),g(h=>{let w={...h};return delete w.storage.photos,w})},D=h=>{if(h==0&&v.length==1)return;const w=v.filter((E,d)=>d!==h);x(w),P(E=>{const{[h]:d,...R}=E;let I={};return Object.entries(R).forEach(([j,T])=>{j>h?I[j-1]=T:I[j]=T}),I})};function X(h){h!==0&&(x(w=>{const E=[...w],d=E[h-1];return E[h-1]=E[h],E[h]=d,E}),P(w=>{const E={...w};if(h in E&&h-1 in E){const d=E[h-1];E[h-1]=E[h],E[h]=d}else h in E&&(E[h-1]=E[h],delete E[h]);return E}))}function K(h){h>=v.length-1||(x(w=>{const E=[...w],d=E[h+1];return E[h+1]=E[h],E[h]=d,E}),P(w=>{const E={...w};if(h in E&&h+1 in E){const d=E[h+1];E[h+1]=E[h],E[h]=d}else h in E&&(E[h+1]=E[h],delete E[h]);return E}))}function W(){x(h=>{const w={photoID:null,orgID:a,caption:"",filename:""};return[...h,w]})}return t.jsxs(H,{title:"Set Showcase Photos",transparent:!0,componentProps:{dialogContentCN:"max-w-[40rem] w-full overflow-x-auto",dialogTriggerCN:(p=m.changes)!=null&&p.photos?"border border-red-500":""},footer:t.jsx(H.ActionButtons,{resetProps:{onClick:k},previewChangeProps:{onClick:_}}),editErrors:i["changesMade.storage.photos"]||i["pageState.pageData.photos"],children:[t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsxs("th",{className:"w-56 max-w-56 min-w-36",children:["Preview ",t.jsx("br",{}),t.jsxs("span",{className:"text-gray-400 text-xs !leading-[0rem]",children:["(Accepts .png, .jpg, and .jpeg. Max 20MB."," ",t.jsx("s",{children:"default.jpeg"}),")"]})]}),t.jsx("th",{className:"w-72",children:"Caption"}),t.jsx("th",{className:"w-32",children:"Action"})]})}),t.jsx("tbody",{children:v.map((h,w)=>t.jsx(U,{item:h,index:w},w))})]}),v.length<4&&t.jsxs("button",{className:"py-2 rounded-md text-center w-full bg-slate-300 hover:bg-slate-300/80",onClick:W,children:[t.jsx("span",{className:"text-xl",children:"+"})," Add Photo"]})||t.jsx("span",{className:"text-red-500 text-center text-sm font-bold -mt-3",children:"(Max: 4)"})]});function U({item:h,index:w}){const[E,d]=o.useState(""),R=I=>{const j=I.target.files[0];if(j){if(j.size>c){d("Max. file size 20MB exceeded.");return}else d("");if(j.name==="default.jpeg"){d('File name "default.jpeg" is not allowed.');return}else d("");const T=URL.createObjectURL(j);x(z=>{const q=[...z];return q[w]={...q[w],filename:T},q}),P(z=>({...z,[w]:j}))}};return t.jsxs(t.Fragment,{children:[t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{className:"flex flex-col gap-y-2",children:[t.jsx("img",{src:v[w].filename===""?"/storage/photo/default.jpeg":v[w].filename,alt:"Photo loading error"}),t.jsx("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",className:"w-full text-sm",onChange:R}),t.jsx("div",{className:"font-bold text-sm text-red-500",children:E})]})}),t.jsx("td",{children:t.jsx("div",{className:"py-2 px-1",children:t.jsx(we,{trigger:h.caption||t.jsx("span",{className:"text-red-500/80 font-bold",children:"*required"}),type:"Caption",required:"true",componentProps:{dialogTriggerCN:"text-xs sm:text-base leading-tight sm:leading-normal",input:{maxLength:255}},target:I=>{x(j=>{const T=[...j];return T[w]={...T[w],caption:I},T})}})})}),t.jsx("td",{children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-3 justify-center items-center",children:[t.jsxs("div",{className:"flex gap-x-1 items-center",children:[t.jsxs("button",{className:"text-slate-600 enabled:hover:text-slate-600/80 disabled:cursor-not-allowed relative group",onClick:()=>X(w),disabled:w===0,children:[t.jsx(lt,{size:30}),t.jsx("div",{className:"group-disabled:block hidden h-0 border-b-2 border-red-500 absolute w-full inset-0 m-auto -rotate-45"})]}),t.jsxs("button",{className:"text-slate-600 enabled:hover:text-slate-600/80 disabled:cursor-not-allowed relative group",onClick:()=>K(w),disabled:w===v.length-1,children:[t.jsx(ct,{size:30}),t.jsx("div",{className:"group-disabled:block hidden h-0 border-b-2 border-red-500 absolute w-full inset-0 m-auto -rotate-45"})]})]}),t.jsxs("button",{onClick:()=>D(w),className:"size-10 flex items-center justify-center rounded-lg hover:bg-slate-300 relative group disabled:cursor-not-allowed",disabled:w==0&&v.length==1,children:[t.jsx(Ie,{}),t.jsx("div",{className:"group-disabled:block hidden h-0 border-b-2 border-red-500 absolute w-full inset-0 m-auto -rotate-45"})]})]})})]}),t.jsx("tr",{children:t.jsx("td",{colSpan:"3",children:t.jsx("div",{className:"border-b-[1px] mt-2 mb-3 border-slate-400 w-full"})})})]})}}function O(){const{data:v,_:x,post:b,progress:P}=Kt({changesMade:m,pageState:u});async function _(k){k.preventDefault();try{b(route("admin.saveEditPage",[a]))}catch(D){console.log("save error: ",D)}}return t.jsx(t.Fragment,{children:m.all&&t.jsx("form",{onSubmit:k=>_(k),className:"contents",children:t.jsx("div",{className:"-mr-8 gap-4 flex flex-col md:items-center md:flex-row ",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors",onClick:A,children:[t.jsx("span",{className:"hidden md:inline",children:t.jsx(Qt,{size:16})})," ","Reset All"]}),t.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-colors",children:[P&&t.jsx("div",{className:"w-[40px] flex justify-center",children:t.jsx("div",{className:"dot-flashing"})}),t.jsx("span",{className:"hidden md:inline",children:t.jsx(yr,{size:16})}),t.jsx("span",{children:"Save All Changes"})]})]})})})})}}export{$o as default};

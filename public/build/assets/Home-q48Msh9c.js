import{j as e,q as E,r as d,Y as F,y as T}from"./app-Nah0YeiV.js";import{I as A}from"./IconMailFilled-DoQz7_bC.js";import{u as U,c as O,d as P}from"./IconMenu3-Be-ovQ-L.js";import{O as z,E as h}from"./OrganizationLayout-Cc_-FePC.js";import{D as H,a as _,b as q,c as B,d as W,e as Y}from"./dialog-q4YAmxIc.js";import"./UserLayout-0QZYyfBd.js";import"./IconProfile-BdKZaGT5.js";import"./dropdown-menu-D5ewfSrD.js";import"./index-CN_0O8cP.js";function R({size:s}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:s||"24",height:s||"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-brand-x",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M4 4l11.733 16h4.267l-11.733 -16z"}),e.jsx("path",{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"})]})}function X({size:s}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:s||"24",height:s||"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}),e.jsx("path",{d:"M8 11l0 5"}),e.jsx("path",{d:"M8 8l0 .01"}),e.jsx("path",{d:"M12 16l0 -5"}),e.jsx("path",{d:"M16 16v-3a2 2 0 0 0 -4 0"})]})}function $(){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-point",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"})]})}function se({editing:s=!1,recruiting:b=!0,pageData:x,pageLayoutData:g,withFollow:k}){const{toast:p}=U(),{errors:m={}}=E().props,[n,f]=d.useState(x),[i,w]=d.useState(g),y=t=>{navigator.clipboard.writeText(t).then(()=>{p({title:"Text copied to cliboard",description:t,duration:2e3,variant:"success"})}).catch(a=>{p({title:"Text copy failed",description:t,duration:2e3,variant:"desctructive"})})},N=()=>{console.log(n,i);const t=new FormData;t.append("orgID",i.orgID),t.append("aboutUs",n.aboutUs),t.append("fb_link",n.fb_link),i.logo instanceof File&&t.append("logo",i.logo),i.coverPhoto instanceof File&&t.append("coverPhoto",i.coverPhoto),T.post("save",t,{headers:{"Content-Type":"multipart/form-data"}})};return d.useEffect(()=>{Object.keys(m).length!==0&&Object.entries(m).forEach(([t,a])=>{p({title:"Error:",description:a,duration:1e4,variant:"destructive"})})},[m]),e.jsxs(z,{pageLayoutData:i,setEditableLayoutData:w,recruiting:b,editing:s,withFollow:k,children:[e.jsx(C,{}),e.jsx(F,{title:x.metadata.organizationName}),e.jsxs("div",{className:"w-full flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-8",children:[e.jsxs("div",{className:"flex flex-col space-y-3 md:space-y-8 wfull md:w-1/2",children:[e.jsx(D,{}),e.jsx(I,{})]}),e.jsx("div",{className:"w-full md:w-1/2",children:e.jsx(S,{})})]}),e.jsx(L,{}),s&&e.jsxs("div",{className:"flex justify-end px-5 md:px-12 mt-6",children:[e.jsx("button",{className:"px-3 py-2 bg-cyan-400 rounded-lg",onClick:N,children:"Save Changes"}),e.jsx("button",{type:"button",onClick:()=>console.log(n),className:"px-3 py-2 bg-cyan-400 rounded-lg",children:"Check page data"}),e.jsx("button",{type:"button",onClick:()=>console.log(i),className:"px-3 py-2 bg-cyan-400 rounded-lg",children:"Check page layout data"})]})]});function u({children:t,className:a,name:o,id:j}){return e.jsxs("div",{className:`w-full bg-white p-4 md:p-7 rounded-lg flex flex-col ${a} space-y-1 relative`,id:j,children:[e.jsx("div",{className:"poppins text-lg font-extrabold",children:o}),e.jsx("div",{className:"w-full block",children:t})]})}function C(){const[t,a]=d.useState(n.aboutUs);return e.jsxs(u,{name:"About Us",children:[n.aboutUs,s&&e.jsxs(h,{title:"Set About Us description",children:[e.jsx("textarea",{name:"",id:"",placeholder:"Your description here...",value:t,onChange:o=>a(o.target.value)}),e.jsx("button",{type:"button",className:"px-3 py-2 bg-cyan-400 rounded-lg",onClick:()=>f({...n,aboutUs:t}),children:"Save"})]})]})}function D(){const[t,a]=d.useState(x.contacts),o={email:e.jsx(A,{}),instagram:e.jsx(O,{}),facebook:e.jsx(P,{}),x:e.jsx(R,{}),linkedin:e.jsx(X,{}),default:e.jsx($,{})},j=()=>{a([...t,{platform:"email",name:"",address:""}])},v=(l,r)=>{let c=[...t];return c[l]={...c[l],address:r.address,platform:r.platform},c},M=()=>{f({...n,contacts:t})};return e.jsxs(u,{name:"Contacts and Information",children:[e.jsx("ul",{className:"w-full space-y-2 pl-2 relative",children:n.contacts.map((l,r)=>e.jsxs("li",{className:"flex items-center quicksand gap-x-2",children:[e.jsx("div",{children:o[l.platform]}),e.jsx("button",{className:"truncate flex-1 text-left hover:outline hover:outline-1 rounded-md hover:outline-gray-500 hover:px-2 transition-all",onClick:()=>y(l.address),children:l.address})]},r))}),s&&e.jsxs(h,{title:"Set contacts list",children:[e.jsx("div",{children:"complex bullet text editor"}),e.jsxs("div",{children:[e.jsx("ul",{children:t.map((l,r)=>e.jsxs("li",{children:[e.jsxs("select",{onChange:c=>a(v(r,{...l,platform:c.target.value})),children:[e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"facebook",children:"Facebook"}),e.jsx("option",{value:"x",children:"X"}),e.jsx("option",{value:"linkedin",children:"Linked In"}),e.jsx("option",{value:"instagram",children:"Instagram"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("input",{type:"text",value:l.address,onChange:c=>a(v(r,{...l,address:c.target.value}))})]},r))}),e.jsx("button",{type:"button",className:"px-3 py-2 bg-cyan-400 rounded-lg",onClick:j,children:"Add New Contact"}),e.jsx("button",{type:"button",className:"px-3 py-2 bg-cyan-400 rounded-lg",onClick:M,children:"Save"})]})]})]})}function I(){const t=x.officers;return e.jsx(u,{name:"Officers",children:e.jsx("ul",{className:"w-full space-y-2 pl-2",children:t.map((a,o)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-3",children:"•"}),e.jsxs("div",{children:[e.jsxs("div",{className:"nunito font-extrabold text-lg",children:[a.user.firstname," ",a.user.lastname]}),e.jsx("div",{className:"-mt-1 quicksand text-sm",children:a.position})]})]},o))})})}function S(){const[t,a]=d.useState(n.fb_link);return e.jsxs(u,{className:"h-full",name:"Social Activities",children:[e.jsxs("span",{children:["Facebook Iframe: ",n.fb_link]}),s&&e.jsxs(h,{title:"Set IFrame link",children:[e.jsx("textarea",{name:"",id:"",placeholder:"Your description here...",value:t,onChange:o=>a(o.target.value)}),e.jsx("button",{type:"button",className:"px-3 py-2 bg-cyan-400 rounded-lg",onClick:()=>f({...n,fb_link:t}),children:"Save"})]})]})}function L(){const t=x.photos;return e.jsxs(u,{name:"Showcase Photos",id:"photos",className:"overflow-x-hidden",children:[e.jsx("div",{className:"h-52 md:h-80 w-full flex flex-row overflow-x-auto gap-x-6 pb-1 relative",children:t.map(a=>e.jsxs(H,{children:[e.jsx(_,{className:"contents",children:e.jsxs("div",{className:"h-full flex-shrink-0 relative rounded-xl overflow-clip",children:[e.jsx("img",{src:a.filename,className:"h-full object-cover",alt:a.caption}),e.jsx("div",{className:"absolute bottom-0 top-52 left-0 right-0 bg-gradient-to-b from-transparent to-black text-white px-9 flex items-center quicksand font-bold tracking-wide",children:e.jsx("span",{className:"line-clamp-3",children:a.caption})})]})}),e.jsxs(q,{className:"max-w-5xl w-fit max-h-[90%]",children:[e.jsxs(B,{children:[e.jsx(W,{children:a.caption}),e.jsx(Y,{})]}),e.jsx("div",{className:"overflow-y-auto flex justify-center",children:e.jsx("img",{src:a.filename,className:"object-contain max-w-full h-full max-h-full",alt:a.caption})})]})]},a.photoID))}),s&&e.jsx(h,{title:"Set showcase photos",children:e.jsx("div",{children:"complex multi-file upload with text edit (pic and caption)"})})]})}}export{se as default};
